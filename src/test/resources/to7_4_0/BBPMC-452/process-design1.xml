<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<def:processDefinition id="0" name="HDSH-Copies du courrier" version="1.0" xmlns:def="http://www.bonitasoft.org/ns/process/client/7.2">
    <description>ARAVIS-Processus pour envoi de copies pour suivi, avis ou éléments à fournir ou courrier de réponse</description>
    <displayDescription>ARAVIS-Processus pour envoi de copies pour suivi, avis ou éléments à fournir ou courrier de réponse</displayDescription>
    <parameters />
    <actors>
        <actor name="Acteur" initiator="true">
            <description></description>
        </actor>
    </actors>
    <actorInitiator>Acteur</actorInitiator>
    <flowElements id="6839706649789010771">
        <automaticTask id="8221073351757075018" name="M-Recherche mails destinataires">
            <incomingTransition>5914429967988657270</incomingTransition>
            <outgoingTransition>6686750366078109762</outgoingTransition>
            <connector id="6099540914915729634" name="Alimentation clé hiérarchie" connectorId="scripting-groovy" activationEvent="ON_ENTER" version="1.0.2" failAction="IGNORE">
                <inputs>
                    <input name="script">
                        <expression id="4784577841754176783" name="GVHORG de (GVHORG,GVPERG)" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Object" interpreter="GROOVY">
                            <content>return Integer.valueOf(posteDestinataire.substring(posteDestinataire.indexOf("(") + 1, posteDestinataire.indexOf(",")));</content>
                            <expression id="7825769998651644252" name="posteDestinataire" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>posteDestinataire</content>
                            </expression>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="cleHierarchie" type="DATA" />
                        <rightOperand id="8383022617925294115" name="result" expressionType="TYPE_INPUT" returnType="java.lang.Object" interpreter="">
                            <content>result</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="8268284261016677942" name="Alimentation clé personne" connectorId="scripting-groovy" activationEvent="ON_ENTER" version="1.0.2" failAction="IGNORE">
                <inputs>
                    <input name="script">
                        <expression id="6302529626433501465" name="GVPERG de (GVHORG,GVPERG)" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Object" interpreter="GROOVY">
                            <content>return Integer.valueOf(posteDestinataire.substring(posteDestinataire.indexOf(",") + 1, posteDestinataire.indexOf(")")));</content>
                            <expression id="5561431040124609725" name="posteDestinataire" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>posteDestinataire</content>
                            </expression>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="clePersonne" type="DATA" />
                        <rightOperand id="8353627375800803852" name="result" expressionType="TYPE_INPUT" returnType="java.lang.Object" interpreter="">
                            <content>result</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="5503689805873716985" name="MET-Recherche mail destinataire" connectorId="MetierRechercheCoordonneePersonne" activationEvent="ON_ENTER" version="1.0.0" failAction="IGNORE">
                <inputs>
                    <input name="typeCoordonnee">
                        <expression id="6875337009496424788" name="Indifférent" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>Indifférent</content>
                        </expression>
                    </input>
                    <input name="clePersonne">
                        <expression id="6431267531787207821" name="clePersonne" expressionType="TYPE_VARIABLE" returnType="java.lang.Integer" interpreter="">
                            <content>clePersonne</content>
                        </expression>
                    </input>
                    <input name="cleOrganisation">
                        <expression id="6510265806094146747" name="cleHierarchie" expressionType="TYPE_VARIABLE" returnType="java.lang.Integer" interpreter="">
                            <content>cleHierarchie</content>
                        </expression>
                    </input>
                    <input name="societe">
                        <expression id="5859508707816936878" name="acgSociete" expressionType="TYPE_VARIABLE" returnType="java.lang.Integer" interpreter="">
                            <content>acgSociete</content>
                        </expression>
                    </input>
                    <input name="cleCoordonnee">
                        <expression id="8754114846810383688" name="0" expressionType="TYPE_CONSTANT" returnType="java.lang.Integer" interpreter="">
                            <content>0</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="mailPersonne" type="DATA" />
                        <rightOperand id="5459228379525129386" name="adresseElectronique" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>adresseElectronique</content>
                        </rightOperand>
                    </operation>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="numErreur" type="DATA" />
                        <rightOperand id="7112258831030798124" name="numErreur" expressionType="TYPE_INPUT" returnType="java.lang.Integer" interpreter="">
                            <content>numErreur</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <description>Recherche des mails pour chacun des postes destinataires des copies</description>
            <dataDefinitions>
                <dataDefinition id="5873288480173119513" name="clePersonne" transient="false" className="java.lang.Integer" />
                <textDataDefinition longText="true" id="8972493761613583952" name="mailPersonne" transient="false" className="java.lang.String" />
                <textDataDefinition longText="true" id="5876289322563150193" name="posteDestinataire" transient="false" className="java.lang.String" />
                <dataDefinition id="4848940933512579733" name="cleHierarchie" transient="false" className="java.lang.Integer" />
            </dataDefinitions>
            <BusinessDataDefinitions />
            <operations />
            <multiInstanceLoopCharacteristics isSequential="false" loopDataInputRef="listePostesDestinataires" loopDataOutputRef="listeMailsDestinataires" dataInputItemRef="posteDestinataire" dataOutputItemRef="mailPersonne" />
            <boundaryEvents />
        </automaticTask>
        <automaticTask id="6238176505751283394" name="M-Envoi courriers par mail">
            <incomingTransition>6860487664236796108</incomingTransition>
            <outgoingTransition>7285811984802838011</outgoingTransition>
            <connector id="8722869669448653379" name="Envoi mail" connectorId="email" activationEvent="ON_FINISH" version="1.0.0" failAction="FAIL">
                <inputs>
                    <input name="headers">
                        <expression id="7785734940649185041" name="Table of expression containing the following expressions: []." expressionType="TYPE_LIST" returnType="java.util.List">
                            <content>Table of expression containing the following expressions: [].</content>
                        </expression>
                    </input>
                    <input name="charset">
                        <expression id="5502358374501685353" name="UTF-8" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>UTF-8</content>
                        </expression>
                    </input>
                    <input name="sslSupport">
                        <expression id="8062469479288583675" name="false" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>false</content>
                        </expression>
                    </input>
                    <input name="subject">
                        <expression id="4654334495927371509" name="sujetMail" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>sujetMail</content>
                        </expression>
                    </input>
                    <input name="smtpPort">
                        <expression id="5646282603739843270" name="smtpPort" expressionType="TYPE_VARIABLE" returnType="java.lang.Integer" interpreter="">
                            <content>smtpPort</content>
                        </expression>
                    </input>
                    <input name="userName">
                        <expression id="7198942564449114470" name="smtpUtilisateur" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>smtpUtilisateur</content>
                        </expression>
                    </input>
                    <input name="message">
                        <expression id="7224653278066466445" name="&lt;pattern-expression&gt;" expressionType="TYPE_PATTERN" returnType="java.lang.String" interpreter="">
                            <content>Bonjour,&lt;/br&gt;
                                &lt;/br&gt;
                                &lt;/br&gt;
                                ${corps1Mail}&lt;/br&gt;
                                &lt;/br&gt;
                                ${corps2Mail}&lt;/br&gt;
                                &lt;/br&gt;
                                ${corps3Mail}&lt;/br&gt;
                                &lt;/br&gt;
                                &lt;/br&gt;
                                Cordialement.
                            </content>
                            <expression id="9170197979680924551" name="corps1Mail" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>corps1Mail</content>
                            </expression>
                            <expression id="8276506529688056722" name="corps2Mail" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>corps2Mail</content>
                            </expression>
                            <expression id="4810483634831143105" name="corps3Mail" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>corps3Mail</content>
                            </expression>
                        </expression>
                    </input>
                    <input name="password">
                        <expression id="9053896049364103296" name="smtpMdp" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>smtpMdp</content>
                        </expression>
                    </input>
                    <input name="smtpHost">
                        <expression id="6094769486640771504" name="smtpHote" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>smtpHote</content>
                        </expression>
                    </input>
                    <input name="from">
                        <expression id="7189665060536275374" name="emetteurMail" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>emetteurMail</content>
                        </expression>
                    </input>
                    <input name="html">
                        <expression id="5375767609066229299" name="true" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>true</content>
                        </expression>
                    </input>
                    <input name="to">
                        <expression id="8538802876040887516" name="mailsDestinataires" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>mailsDestinataires</content>
                        </expression>
                    </input>
                    <input name="starttlsSupport">
                        <expression id="6373427830399381021" name="false" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>false</content>
                        </expression>
                    </input>
                </inputs>
                <outputs />
            </connector>
            <description>Envoi d'un mail pour chacune des personnes en copie</description>
            <dataDefinitions />
            <BusinessDataDefinitions />
            <operations />
            <boundaryEvents />
        </automaticTask>
        <automaticTask id="8219049487976354293" name="M-Initialisations">
            <incomingTransition>6351699936155462839</incomingTransition>
            <outgoingTransition>8400607532678564939</outgoingTransition>
            <connector id="7551929625270042646" name="OUT-Attachement courrier entrant à pièce jointe 1" connectorId="OutilAttachementDocumentProcessus" activationEvent="ON_ENTER" version="1.0.0" failAction="IGNORE">
                <inputs>
                    <input name="fichier">
                        <expression id="6143575564412579709" name="acgDocumentCourrier" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgDocumentCourrier</content>
                        </expression>
                    </input>
                    <input name="nomDocumentProcessus">
                        <expression id="7868460547418765213" name="pieceJointe1" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>pieceJointe1</content>
                        </expression>
                    </input>
                </inputs>
                <outputs />
            </connector>
            <connector id="7698885368222475465" name="OUT-Attachement courrier réponse à pièce jointe 2" connectorId="OutilAttachementDocumentProcessus" activationEvent="ON_ENTER" version="1.0.0" failAction="IGNORE">
                <inputs>
                    <input name="fichier">
                        <expression id="5309209981757696318" name="courrierReponse" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>courrierReponse</content>
                        </expression>
                    </input>
                    <input name="nomDocumentProcessus">
                        <expression id="6507985733444748575" name="pieceJointe2" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>pieceJointe2</content>
                        </expression>
                    </input>
                </inputs>
                <outputs />
            </connector>
            <connector id="8423942263657242955" name="Initialisations personnes destinataires" connectorId="scripting-groovy" activationEvent="ON_ENTER" version="1.0.2" failAction="IGNORE">
                <inputs>
                    <input name="script">
                        <expression id="7069583919721064168" name="Tableau entier vide si null" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Object" interpreter="GROOVY">
                            <content>if (listePostesDestinataires == null)

                                return new ArrayList&lt;Integer&gt;();

                                else

                                return listePostesDestinataires;
                            </content>
                            <expression id="8815328888491947623" name="listePostesDestinataires" expressionType="TYPE_VARIABLE" returnType="java.util.List">
                                <content>listePostesDestinataires</content>
                            </expression>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="listePostesDestinataires" type="DATA" />
                        <rightOperand id="4701697729801018206" name="result" expressionType="TYPE_INPUT" returnType="java.lang.Object" interpreter="">
                            <content>result</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <description>Attachement du (des) courrier(s) aux documents du processus</description>
            <dataDefinitions />
            <BusinessDataDefinitions />
            <operations>
                <operation operatorType="ASSIGNMENT">
                    <leftOperand name="sujetMail" type="DATA" />
                    <rightOperand id="5591379807707936325" name="Alimentation sujet" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.String" interpreter="GROOVY">
                        <content>def String sujet;

                            if (motifEnvoi.equals("Copie")) {

                            sujet = "Information réception du courrier " +courrierReference;

                            } else {

                            if (motifEnvoi.equals("Avis")) {

                            sujet = "Avis à apporter pour le courrier " +courrierReference;

                            } else {

                            if (motifEnvoi.equals("Elements")) {

                            sujet = "Eléments à fournir pour le courrier " +courrierReference;

                            } else {

                            if (motifEnvoi.equals("Réponse")) {

                            sujet = "Réponse au courrier " +courrierReference;

                            } else {

                            if (motifEnvoi.equals("Refus")) {

                            sujet = "Refus prise en charge du courrier " +courrierReference;

                            }}}}}

                            if (motifEnvoi.equals("Avis") || motifEnvoi.equals("Elements")) {

                            if (!("31/12/9999").equals(dateLimiteElementsTexte)) sujet += " - Date limite réponse : " +dateLimiteElementsTexte;

                            } else {

                            if (!("31/12/9999").equals(dateLimiteReponse)) sujet += " - Date limite réponse : " +dateLimiteReponse;

                            }

                            return sujet;
                        </content>
                        <expression id="8985308595800205520" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>motifEnvoi</content>
                        </expression>
                        <expression id="8394221524606459019" name="dateLimiteElementsTexte" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>dateLimiteElementsTexte</content>
                        </expression>
                        <expression id="6058542086439881832" name="courrierReference" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>courrierReference</content>
                        </expression>
                        <expression id="7850429971162164418" name="dateLimiteReponse" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>dateLimiteReponse</content>
                        </expression>
                    </rightOperand>
                </operation>
                <operation operatorType="ASSIGNMENT">
                    <leftOperand name="listeAvisOuElements" type="DATA" />
                    <rightOperand id="6730818197046763998" name="Liste vide" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.util.List" interpreter="GROOVY">
                        <content>return new ArrayList&lt;List&lt;String&gt;&gt;();</content>
                    </rightOperand>
                </operation>
                <operation operatorType="ASSIGNMENT">
                    <leftOperand name="corps1Mail" type="DATA" />
                    <rightOperand id="8032184976629410890" name="Première partie coprs mail" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.String" interpreter="GROOVY">
                        <content>def String corps = "";

                            if (motifEnvoi.equals("Copie") || motifEnvoi.equals("Avis") || motifEnvoi.equals("Elements") || motifEnvoi.equals("Refus")) {

                            corps = 'Merci de prendre connaissance de ce &lt;a href="file:' +acgDocumentCourrier.replace("\\", "/")+ '"&gt;courrier entrant&lt;/a&gt;.';

                            } else {

                            if (motifEnvoi.equals("Réponse")) {

                            corps = 'Merci de prendre connaissance de cette &lt;a href="file:' +courrierReponse.replace("\\", "/")+ '"&gt;réponse&lt;/a&gt; apportée au &lt;a href="file:' +acgDocumentCourrier.replace("\\", "/")+ '"&gt;courrier entrant&lt;/a&gt;.';

                            }}

                            return corps;
                        </content>
                        <expression id="8178696718131238663" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>motifEnvoi</content>
                        </expression>
                        <expression id="7193119990903952632" name="courrierReponse" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>courrierReponse</content>
                        </expression>
                        <expression id="8561325801878979121" name="acgDocumentCourrier" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>acgDocumentCourrier</content>
                        </expression>
                    </rightOperand>
                </operation>
                <operation operatorType="ASSIGNMENT">
                    <leftOperand name="corps2Mail" type="DATA" />
                    <rightOperand id="9148654885394809550" name="Deuxième partie corps mail" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.String" interpreter="GROOVY">
                        <content>def String corps = "";

                            if (motifEnvoi.equals("Avis")) {

                            corps = "Un avis est à apporter par vos soins afin de pouvoir rédiger la réponse au courrier.";

                            } else {

                            if (motifEnvoi.equals("Elements")) {

                            corps = "Des éléments sont à fournir par vos soins afin de pouvoir rédiger la réponse au courrier.";

                            } else {

                            if (motifEnvoi.equals("Refus")) {

                            corps = "Aucune réponse ne sera apportée à ce dernier";

                            }

                            }

                            }

                            return corps;
                        </content>
                        <expression id="8931589324314687319" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>motifEnvoi</content>
                        </expression>
                    </rightOperand>
                </operation>
                <operation operatorType="ASSIGNMENT">
                    <leftOperand name="corps3Mail" type="DATA" />
                    <rightOperand id="7816745860359627527" name="Troisième partie corps mail" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.String" interpreter="GROOVY">
                        <content>def String corps = "";

                            if (motifEnvoi.equals("Avis") || motifEnvoi.equals("Elements")) {

                            corps = "Pour celà vous devez réaliser une tâche dans Aravis (Option &lt;b&gt;Processus --&gt; Mes tâches&lt;/b&gt;) qui vous est destinée.";

                            } else {

                            if (motifEnvoi.equals("Refus")) {

                            corps = "Commentaire : " +commentaireRefus;

                            }

                            }

                            return corps;
                        </content>
                        <expression id="7362924239982398949" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>motifEnvoi</content>
                        </expression>
                        <expression id="5779154316884187213" name="commentaireRefus" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>commentaireRefus</content>
                        </expression>
                    </rightOperand>
                </operation>
            </operations>
            <boundaryEvents />
        </automaticTask>
        <automaticTask id="8351368449548875914" name="M-Alimentation destinataires">
            <incomingTransition>6686750366078109762</incomingTransition>
            <outgoingTransition>8964751939939253924</outgoingTransition>
            <dataDefinitions />
            <BusinessDataDefinitions />
            <operations>
                <operation operatorType="ASSIGNMENT">
                    <leftOperand name="mailsDestinataires" type="DATA" />
                    <rightOperand id="4649779928567982012" name="mailDestinataire1,mailDestinataire2,etc... à partir de listeMailsDestinataires" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.String" interpreter="GROOVY">
                        <content>String locDestinataires = "";

                            if (mailsDestinataires != null)

                            locDestinataires = mailsDestinataires;

                            for (String destinataire : listeMailsDestinataires) {

                            locDestinataires = locDestinataires.equals("") ? destinataire : locDestinataires + "," + destinataire;

                            }

                            return locDestinataires;

                        </content>
                        <expression id="4752483667447430558" name="listeMailsDestinataires" expressionType="TYPE_VARIABLE" returnType="java.util.List">
                            <content>listeMailsDestinataires</content>
                        </expression>
                        <expression id="8249763483783762923" name="mailsDestinataires" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>mailsDestinataires</content>
                        </expression>
                    </rightOperand>
                </operation>
                <operation operatorType="ASSIGNMENT">
                    <leftOperand name="listeMailsDestinataires" type="DATA" />
                    <rightOperand id="9145891326999503831" name="Liste (mailDestinataire1,mailDestinataire2,etc...)" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.util.List" interpreter="GROOVY">
                        <content>List&lt;String&gt; lstDestinataires = new ArrayList&lt;String&gt;();

                            String[] tabDestinataires = mailsDestinataires.split(",");

                            for (String dest : tabDestinataires) {

                            lstDestinataires.add(dest);

                            }

                            return lstDestinataires;
                        </content>
                        <expression id="7797997387245444465" name="mailsDestinataires" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>mailsDestinataires</content>
                        </expression>
                    </rightOperand>
                </operation>
            </operations>
            <boundaryEvents />
        </automaticTask>
        <userTask id="4847657192564344793" name="Elements ou avis à fournir" actorName="Acteur" expectedDuration="3600000" priority="NORMAL">
            <incomingTransition>5569330579813948270</incomingTransition>
            <outgoingTransition>6845342621056405641</outgoingTransition>
            <connector id="5491876906582523504" name="Alimentation candidats" connectorId="scripting-groovy" activationEvent="ON_ENTER" version="1.0.2" failAction="IGNORE">
                <inputs>
                    <input name="script">
                        <expression id="8186342661991741691" name="Candidats" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Object" interpreter="GROOVY">
                            <content>return candidats;</content>
                            <expression id="5312561115186229159" name="candidats" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>candidats</content>
                            </expression>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeCandidats" type="DATA" />
                        <rightOperand id="7426555768878724412" name="result" expressionType="TYPE_INPUT" returnType="java.lang.Object" interpreter="">
                            <content>result</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="5100847427783763533" name="OUT-Ouverture courrier entrant" connectorId="OutilOuvertureFichier" activationEvent="ON_ENTER" version="1.0.0" failAction="IGNORE">
                <inputs>
                    <input name="fichier">
                        <expression id="7191184301189660731" name="acgDocumentCourrier" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgDocumentCourrier</content>
                        </expression>
                    </input>
                    <input name="listeTraitements">
                        <expression id="6455963757533679335" name="acgListeTraitements" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgListeTraitements</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeTraitements" type="DATA" />
                        <rightOperand id="8505929716079975986" name="listeTraitementsCompletee" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>listeTraitementsCompletee</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="5872868488250440863" name="ECR-Saisie éléments ou avis" connectorId="EcranSaisieDynamique" activationEvent="ON_ENTER" version="1.0.0" failAction="IGNORE">
                <inputs>
                    <input name="listeTraitements">
                        <expression id="5253397440796836351" name="acgListeTraitements" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgListeTraitements</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeTraitements" type="DATA" />
                        <rightOperand id="6300883220084027596" name="listeTraitementsCompletee" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>listeTraitementsCompletee</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="5867209810214831689" name="OUT-Copie document" connectorId="TraitementAjout" activationEvent="ON_ENTER" version="1.0.0" failAction="FAIL">
                <inputs>
                    <input name="parametreEntree2">
                        <expression id="7588379449518636227" name="acgRepertoireDocuments" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>acgRepertoireDocuments</content>
                        </expression>
                    </input>
                    <input name="listeTraitements">
                        <expression id="4811337637421787105" name="acgListeTraitements" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgListeTraitements</content>
                        </expression>
                    </input>
                    <input name="parametreEntree1">
                        <expression id="6376011086505348114" name="documentAvisOuElements" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>documentAvisOuElements</content>
                        </expression>
                    </input>
                    <input name="parametreSortie1">
                        <expression id="5044773680993462229" name="documentAvisOuElements" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>documentAvisOuElements</content>
                        </expression>
                    </input>
                    <input name="fonction">
                        <expression id="5068321013196260245" name="GVgjfF" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>GVgjfF</content>
                        </expression>
                    </input>
                    <input name="nom">
                        <expression id="6584201318748946865" name="CopieDocument" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>CopieDocument</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeTraitements" type="DATA" />
                        <rightOperand id="4708365470469755144" name="listeTraitementsCompletee" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>listeTraitementsCompletee</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="5843628511261062639" name="AFF-Courrier entrant" connectorId="DonneeAjout" activationEvent="ON_ENTER" version="1.0.0" failAction="IGNORE">
                <inputs>
                    <input name="visible">
                        <expression id="5205603627693699875" name="true" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>true</content>
                        </expression>
                    </input>
                    <input name="listeDonnees">
                        <expression id="7555114462093358856" name="acgListeDonnees" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgListeDonnees</content>
                        </expression>
                    </input>
                    <input name="obligatoire">
                        <expression id="7219670208423854501" name="false" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>false</content>
                        </expression>
                    </input>
                    <input name="label">
                        <expression id="5922569570710649278" name="Courrier" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>Courrier</content>
                        </expression>
                    </input>
                    <input name="type">
                        <expression id="6086560056170832873" name="fichier" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>fichier</content>
                        </expression>
                    </input>
                    <input name="lectureseule">
                        <expression id="5723338418953610738" name="true" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>true</content>
                        </expression>
                    </input>
                    <input name="donnee">
                        <expression id="5085768520377819629" name="acgDocumentCourrier" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>acgDocumentCourrier</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeDonnees" type="DATA" />
                        <rightOperand id="8439826054348899007" name="listeDonneesCompletee" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>listeDonneesCompletee</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="9222997683287164054" name="AFF-Référence" connectorId="DonneeAjout" activationEvent="ON_ENTER" version="1.0.0" failAction="FAIL">
                <inputs>
                    <input name="visible">
                        <expression id="5974385926213619241" name="true" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>true</content>
                        </expression>
                    </input>
                    <input name="listeDonnees">
                        <expression id="6392759787148456738" name="acgListeDonnees" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgListeDonnees</content>
                        </expression>
                    </input>
                    <input name="obligatoire">
                        <expression id="9137037773774075921" name="false" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>false</content>
                        </expression>
                    </input>
                    <input name="label">
                        <expression id="8716456929069810401" name="Référence" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>Référence</content>
                        </expression>
                    </input>
                    <input name="type">
                        <expression id="4711995874274494626" name="texte" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>texte</content>
                        </expression>
                    </input>
                    <input name="lectureseule">
                        <expression id="8755416847875414774" name="true" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>true</content>
                        </expression>
                    </input>
                    <input name="donnee">
                        <expression id="4869755335601257307" name="courrierReference" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>courrierReference</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeDonnees" type="DATA" />
                        <rightOperand id="9163703866254609422" name="listeDonneesCompletee" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>listeDonneesCompletee</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="7430284999537951245" name="AFF-Expéditeur" connectorId="DonneeAjout" activationEvent="ON_ENTER" version="1.0.0" failAction="FAIL">
                <inputs>
                    <input name="visible">
                        <expression id="6869571472690278985" name="Présence expéditeur" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Boolean" interpreter="GROOVY">
                            <content>return !("").equals(courrierExpediteur);</content>
                            <expression id="7290760640137568628" name="courrierExpediteur" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>courrierExpediteur</content>
                            </expression>
                        </expression>
                    </input>
                    <input name="listeDonnees">
                        <expression id="7145452043741123265" name="acgListeDonnees" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgListeDonnees</content>
                        </expression>
                    </input>
                    <input name="obligatoire">
                        <expression id="8015988708075752063" name="false" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>false</content>
                        </expression>
                    </input>
                    <input name="label">
                        <expression id="8712696618639239577" name="Expéditeur" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>Expéditeur</content>
                        </expression>
                    </input>
                    <input name="type">
                        <expression id="7559378396857005991" name="texte" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>texte</content>
                        </expression>
                    </input>
                    <input name="lectureseule">
                        <expression id="7746790766717721318" name="true" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>true</content>
                        </expression>
                    </input>
                    <input name="donnee">
                        <expression id="6344984070135469875" name="courrierExpediteur" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>courrierExpediteur</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeDonnees" type="DATA" />
                        <rightOperand id="7973085586457147295" name="listeDonneesCompletee" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>listeDonneesCompletee</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="8342885984101087521" name="AFF-Objet du courrier" connectorId="DonneeAjout" activationEvent="ON_ENTER" version="1.0.0" failAction="IGNORE">
                <inputs>
                    <input name="visible">
                        <expression id="5409443964597058660" name="Présence objet" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Boolean" interpreter="GROOVY">
                            <content>return !("").equals(courrierObjet);</content>
                            <expression id="8127995534751907616" name="courrierObjet" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>courrierObjet</content>
                            </expression>
                        </expression>
                    </input>
                    <input name="listeDonnees">
                        <expression id="6072341472526212208" name="acgListeDonnees" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgListeDonnees</content>
                        </expression>
                    </input>
                    <input name="obligatoire">
                        <expression id="8353584568907419254" name="false" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>false</content>
                        </expression>
                    </input>
                    <input name="label">
                        <expression id="7587803300393277063" name="Objet du courrier" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>Objet du courrier</content>
                        </expression>
                    </input>
                    <input name="type">
                        <expression id="7620360994800903354" name="texte" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>texte</content>
                        </expression>
                    </input>
                    <input name="lectureseule">
                        <expression id="6344083716005959776" name="true" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>true</content>
                        </expression>
                    </input>
                    <input name="donnee">
                        <expression id="5211914054789023160" name="courrierObjet" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>courrierObjet</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeDonnees" type="DATA" />
                        <rightOperand id="8417342411053730133" name="listeDonneesCompletee" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>listeDonneesCompletee</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="6429737740884097489" name="AFF-Signataire réponse" connectorId="DonneeAjout" activationEvent="ON_ENTER" version="1.0.0" failAction="FAIL">
                <inputs>
                    <input name="visible">
                        <expression id="8417161469552208915" name="Présence signataire" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Boolean" interpreter="GROOVY">
                            <content>return !("").equals(signataireReponse);</content>
                            <expression id="5775671339882123107" name="signataireReponse" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>signataireReponse</content>
                            </expression>
                        </expression>
                    </input>
                    <input name="listeDonnees">
                        <expression id="7941661509299276456" name="acgListeDonnees" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgListeDonnees</content>
                        </expression>
                    </input>
                    <input name="obligatoire">
                        <expression id="7345420642588277128" name="false" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>false</content>
                        </expression>
                    </input>
                    <input name="label">
                        <expression id="9038876503482377703" name="Signataire réponse" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>Signataire réponse</content>
                        </expression>
                    </input>
                    <input name="type">
                        <expression id="8513526414778547161" name="texte" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>texte</content>
                        </expression>
                    </input>
                    <input name="lectureseule">
                        <expression id="6455398941662987158" name="true" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>true</content>
                        </expression>
                    </input>
                    <input name="donnee">
                        <expression id="8930405816704619991" name="signataireReponse" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>signataireReponse</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeDonnees" type="DATA" />
                        <rightOperand id="8322552129521492241" name="listeDonneesCompletee" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>listeDonneesCompletee</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="5819102901515696773" name="AFF-Commentaire initialisation" connectorId="DonneeAjout" activationEvent="ON_ENTER" version="1.0.0" failAction="IGNORE">
                <inputs>
                    <input name="visible">
                        <expression id="6180406886659021084" name="Présence commentaire" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Boolean" interpreter="GROOVY">
                            <content>return !("").equals(commentaireInitialisation);</content>
                            <expression id="7312677579298527238" name="commentaireInitialisation" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>commentaireInitialisation</content>
                            </expression>
                        </expression>
                    </input>
                    <input name="listeDonnees">
                        <expression id="8791260704388698275" name="acgListeDonnees" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgListeDonnees</content>
                        </expression>
                    </input>
                    <input name="obligatoire">
                        <expression id="6449373737650442779" name="false" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>false</content>
                        </expression>
                    </input>
                    <input name="label">
                        <expression id="5045368576638254394" name="Commentaire initialisation" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>Commentaire initialisation</content>
                        </expression>
                    </input>
                    <input name="type">
                        <expression id="5934224692916782834" name="texte" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>texte</content>
                        </expression>
                    </input>
                    <input name="lectureseule">
                        <expression id="5251638510327437077" name="true" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>true</content>
                        </expression>
                    </input>
                    <input name="donnee">
                        <expression id="7109421324736015514" name="commentaireInitialisation" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>commentaireInitialisation</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeDonnees" type="DATA" />
                        <rightOperand id="5335475361516495529" name="listeDonneesCompletee" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>listeDonneesCompletee</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="7508886201223570590" name="SAI-Avis ou éléments à fournir" connectorId="DonneeAjout" activationEvent="ON_ENTER" version="1.0.0" failAction="IGNORE">
                <inputs>
                    <input name="visible">
                        <expression id="5543174896190977586" name="true" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>true</content>
                        </expression>
                    </input>
                    <input name="listeDonnees">
                        <expression id="5541577791723188001" name="acgListeDonnees" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgListeDonnees</content>
                        </expression>
                    </input>
                    <input name="obligatoire">
                        <expression id="4725341209023196102" name="false" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>false</content>
                        </expression>
                    </input>
                    <input name="label">
                        <expression id="5965913657694252610" name="Avis ou éléments à fournir" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.String" interpreter="GROOVY">
                            <content>if (motifEnvoi.equals("Avis")) {

                                return "Avis à apporter";

                                } else {

                                return "Eléments à fournir";

                                }
                            </content>
                            <expression id="6473561811851562462" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>motifEnvoi</content>
                            </expression>
                        </expression>
                    </input>
                    <input name="type">
                        <expression id="7756959583330610287" name="texte" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>texte</content>
                        </expression>
                    </input>
                    <input name="lectureseule">
                        <expression id="5902905597315987708" name="false" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>false</content>
                        </expression>
                    </input>
                    <input name="donnee">
                        <expression id="8848099285151288294" name="commentaireAvisOuElements" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>commentaireAvisOuElements</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeDonnees" type="DATA" />
                        <rightOperand id="7498756801197259026" name="listeDonneesCompletee" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>listeDonneesCompletee</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="6715159787851886874" name="SAI-Document pour avis ou éléments" connectorId="DonneeAjout" activationEvent="ON_ENTER" version="1.0.0" failAction="IGNORE">
                <inputs>
                    <input name="visible">
                        <expression id="6591686476085321996" name="true" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>true</content>
                        </expression>
                    </input>
                    <input name="listeDonnees">
                        <expression id="7620491860545517442" name="acgListeDonnees" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgListeDonnees</content>
                        </expression>
                    </input>
                    <input name="obligatoire">
                        <expression id="9024198254217924527" name="false" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>false</content>
                        </expression>
                    </input>
                    <input name="label">
                        <expression id="5233821141566923735" name="Document pour avis ou éléments à fournir" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.String" interpreter="GROOVY">
                            <content>if (motifEnvoi.equals("Avis")) {

                                return "Document pour avis à apporter";

                                } else {

                                return "Document pour éléments à fournir";

                                }
                            </content>
                            <expression id="5934929296234074633" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>motifEnvoi</content>
                            </expression>
                        </expression>
                    </input>
                    <input name="type">
                        <expression id="6311913814394546089" name="fichier" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>fichier</content>
                        </expression>
                    </input>
                    <input name="lectureseule">
                        <expression id="5795329014113156693" name="false" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>false</content>
                        </expression>
                    </input>
                    <input name="donnee">
                        <expression id="4772707764838958885" name="documentAvisOuElements" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>documentAvisOuElements</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeDonnees" type="DATA" />
                        <rightOperand id="7430027087707057253" name="listeDonneesCompletee" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>listeDonneesCompletee</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="5996052450860517459" name="ACT-Acteur activité" connectorId="CandidatActeur" activationEvent="ON_FINISH" version="1.0.0" failAction="IGNORE">
                <inputs />
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acteurClePersonne" type="DATA" />
                        <rightOperand id="6837915493464330947" name="clePersonne" expressionType="TYPE_INPUT" returnType="java.lang.Integer" interpreter="">
                            <content>clePersonne</content>
                        </rightOperand>
                    </operation>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="numErreur" type="DATA" />
                        <rightOperand id="6730999111972646097" name="numErreur" expressionType="TYPE_INPUT" returnType="java.lang.Integer" interpreter="">
                            <content>numErreur</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="6635303477923859452" name="VAR-Répertoire document avis ou éléments" connectorId="DonneeAjoutVariable" activationEvent="ON_ENTER" version="1.0.0" failAction="FAIL">
                <inputs>
                    <input name="listeDonnees">
                        <expression id="5960578931437664597" name="acgListeDonnees" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgListeDonnees</content>
                        </expression>
                    </input>
                    <input name="donnee">
                        <expression id="9170211362505442837" name="acgRepertoireDocuments" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                            <content>acgRepertoireDocuments</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acgListeDonnees" type="DATA" />
                        <rightOperand id="6466746890588496836" name="listeDonneesCompletee" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>listeDonneesCompletee</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="7447155455226497139" name="ACT-Personne actrice activité" connectorId="MetierLecturePersonne" activationEvent="ON_FINISH" version="1.0.0" failAction="IGNORE">
                <inputs>
                    <input name="clePersonne">
                        <expression id="7933015745384387259" name="acteurClePersonne" expressionType="TYPE_VARIABLE" returnType="java.lang.Integer" interpreter="">
                            <content>acteurClePersonne</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="acteurNom" type="DATA" />
                        <rightOperand id="7524478670003507268" name="nomPersonne" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>nomPersonne</content>
                        </rightOperand>
                    </operation>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="numErreur" type="DATA" />
                        <rightOperand id="6142051220779130545" name="numErreur" expressionType="TYPE_INPUT" returnType="java.lang.Integer" interpreter="">
                            <content>numErreur</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="8320966105293660771" name="OUT-Renommage document" connectorId="OutilCopieFichier" activationEvent="ON_FINISH" version="1.0.0" failAction="FAIL">
                <inputs>
                    <input name="repertoireDestination">
                        <expression id="6322139056291632798" name="acgRepertoireDocuments" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>acgRepertoireDocuments</content>
                        </expression>
                    </input>
                    <input name="fichier">
                        <expression id="5135905097186849792" name="documentAvisOuElements" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                            <content>documentAvisOuElements</content>
                        </expression>
                    </input>
                    <input name="supprimerOrigine">
                        <expression id="7035550022129011084" name="true" expressionType="TYPE_CONSTANT" returnType="java.lang.Boolean" interpreter="">
                            <content>true</content>
                        </expression>
                    </input>
                    <input name="nomCopieFichier">
                        <expression id="8437396977940863472" name="courrierReference_motifEnvoi_acteurNom_processInstanceId.ext" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.String" interpreter="GROOVY">
                            <content>if (documentAvisOuElements != null &amp;&amp; !documentAvisOuElements.equals("") &amp;&amp; documentAvisOuElements.lastIndexOf(".") != -1) {

                                return courrierReference.replace("/", "_")+ "_" +motifEnvoi+ "_" +acteurNom+ "_" +processInstanceId+ documentAvisOuElements.substring(documentAvisOuElements.lastIndexOf("."));

                                } else {

                                return courrierReference.replace("/", "_")+ "_" +motifEnvoi+ "_" +acteurNom+ "_" +processInstanceId;

                                }
                            </content>
                            <expression id="7835558117548776662" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>motifEnvoi</content>
                            </expression>
                            <expression id="8577335467011012822" name="processInstanceId" expressionType="TYPE_ENGINE_CONSTANT" returnType="java.lang.Long" interpreter="">
                                <content>processInstanceId</content>
                            </expression>
                            <expression id="8303725992962876844" name="documentAvisOuElements" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>documentAvisOuElements</content>
                            </expression>
                            <expression id="6719415489927022559" name="courrierReference" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>courrierReference</content>
                            </expression>
                            <expression id="4900564334441700791" name="acteurNom" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>acteurNom</content>
                            </expression>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="documentAvisOuElements" type="DATA" />
                        <rightOperand id="4905412985470700576" name="fichierCopie" expressionType="TYPE_INPUT" returnType="java.lang.String" interpreter="">
                            <content>fichierCopie</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <connector id="6558634038324449476" name="Alimentation avis ou éléments" connectorId="scripting-groovy" activationEvent="ON_FINISH" version="1.0.2" failAction="IGNORE">
                <inputs>
                    <input name="script">
                        <expression id="6566664700409708240" name="Liste (motifEnvoi,acteurNom,commentaireAvisOuElements,documentAvisOuElements)" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Object" interpreter="GROOVY">
                            <content>List&lt;String&gt; liste = new ArrayList&lt;String&gt;();

                                liste.add(motifEnvoi);

                                liste.add(acteurNom);

                                liste.add(commentaireAvisOuElements);

                                liste.add(documentAvisOuElements);

                                return liste;
                            </content>
                            <expression id="5141838301755263244" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>motifEnvoi</content>
                            </expression>
                            <expression id="5961779557153520901" name="documentAvisOuElements" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>documentAvisOuElements</content>
                            </expression>
                            <expression id="5554665197029155023" name="acteurNom" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>acteurNom</content>
                            </expression>
                            <expression id="8298215380422172782" name="commentaireAvisOuElements" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>commentaireAvisOuElements</content>
                            </expression>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="avisOuElements" type="DATA" />
                        <rightOperand id="5098464273491176821" name="result" expressionType="TYPE_INPUT" returnType="java.lang.Object" interpreter="">
                            <content>result</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <description>Saisie avis ou éléments à fournir</description>
            <dataDefinitions>
                <textDataDefinition longText="true" id="5347607800525011135" name="candidats" transient="false" className="java.lang.String" />
                <textDataDefinition longText="true" id="8673766704586095775" name="acgListeCandidats" transient="false" className="java.lang.String" />
                <textDataDefinition longText="true" id="8966480174180952080" name="acgListeDonnees" transient="false" className="java.lang.String" />
                <textDataDefinition longText="true" id="7836355474608694859" name="acgListeTraitements" transient="false" className="java.lang.String" />
                <textDataDefinition longText="true" id="7792749085120094836" name="acgLibelleTache" transient="false" className="java.lang.String">
                    <defaultValue id="6941597963876762051" name="libellé de la tâche" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.String" interpreter="GROOVY">
                        <content>String libelle = libelleTache;

                            if (!("31/12/9999").equals(dateLimiteElementsTexte))

                            libelle = libelleTache.replace(libelleTache.substring(libelleTache.indexOf("A répondre avant le") + 20, libelleTache.indexOf("A répondre avant le") + 30), dateLimiteElementsTexte);

                            if (motifEnvoi.equals("Avis")) {

                            return libelle + " (Avis)";

                            } else {

                            return libelle + " (Eléments)";

                            }

                            return libelle
                        </content>
                        <expression id="8404464931236527308" name="libelleTache" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>libelleTache</content>
                        </expression>
                        <expression id="6966215048253834555" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>motifEnvoi</content>
                        </expression>
                        <expression id="4720911413323043814" name="dateLimiteElementsTexte" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>dateLimiteElementsTexte</content>
                        </expression>
                    </defaultValue>
                </textDataDefinition>
                <dataDefinition id="6223566752323014417" name="avisOuElements" transient="false" className="java.util.List" />
                <textDataDefinition longText="true" id="7414774256557025011" name="acteurNom" transient="false" className="java.lang.String" />
                <dataDefinition id="6284391697393202884" name="acteurClePersonne" transient="false" className="java.lang.Integer">
                    <defaultValue id="5468351556658584844" name="0" expressionType="TYPE_CONSTANT" returnType="java.lang.Integer" interpreter="">
                        <content>0</content>
                    </defaultValue>
                </dataDefinition>
            </dataDefinitions>
            <BusinessDataDefinitions />
            <operations />
            <multiInstanceLoopCharacteristics isSequential="false" loopDataInputRef="listePostesDestinataires" loopDataOutputRef="listeAvisOuElements" dataInputItemRef="candidats" dataOutputItemRef="avisOuElements" />
            <boundaryEvents />
            <contract>
                <inputDefinitions />
                <constraints />
            </contract>
            <context>
                <contextEntry key="pieceJointe1_ref">
                    <expression id="6773058039339154601" name="pieceJointe1" expressionType="TYPE_DOCUMENT" returnType="org.bonitasoft.engine.bpm.document.Document">
                        <content>pieceJointe1</content>
                    </expression>
                </contextEntry>
                <contextEntry key="pieceJointe2_ref">
                    <expression id="6388441788197807707" name="pieceJointe2" expressionType="TYPE_DOCUMENT" returnType="org.bonitasoft.engine.bpm.document.Document">
                        <content>pieceJointe2</content>
                    </expression>
                </contextEntry>
            </context>
        </userTask>
        <automaticTask id="5426549294966537310" name="M-Historique envoi mail">
            <incomingTransition>8541096958004731569</incomingTransition>
            <outgoingTransition>8032880208677487150</outgoingTransition>
            <connector id="5862003561900783755" name="PRO-Création tâche historique" connectorId="ProcessusCreationTacheHistorique" activationEvent="ON_FINISH" version="1.0.0" failAction="IGNORE">
                <inputs>
                    <input name="clePersonneActeur">
                        <expression id="4997185987199050168" name="emetteurClePersonne" expressionType="TYPE_VARIABLE" returnType="java.lang.Integer" interpreter="">
                            <content>emetteurClePersonne</content>
                        </expression>
                    </input>
                    <input name="libelle">
                        <expression id="6123299592741939832" name="Libellé historique" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.String" interpreter="GROOVY">
                            <content>def String libelle = "";

                                if (motifEnvoi.equals("Copie")) {

                                libelle = "Courrier pour suivi";

                                } else {

                                libelle += "Réponse au courrier";

                                }

                                libelle += " envoyé à " +destinataire;

                                return libelle;
                            </content>
                            <expression id="5718062501331180547" name="destinataire" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>destinataire</content>
                            </expression>
                            <expression id="5670584334076064007" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>motifEnvoi</content>
                            </expression>
                        </expression>
                    </input>
                    <input name="cleOrganisationActeur">
                        <expression id="8380670501126647395" name="emetteurCleHierarchie" expressionType="TYPE_VARIABLE" returnType="java.lang.Integer" interpreter="">
                            <content>emetteurCleHierarchie</content>
                        </expression>
                    </input>
                    <input name="societe">
                        <expression id="6582610790720478057" name="acgSociete" expressionType="TYPE_VARIABLE" returnType="java.lang.Integer" interpreter="">
                            <content>acgSociete</content>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="numErreur" type="DATA" />
                        <rightOperand id="6091182821963356111" name="numErreur" expressionType="TYPE_INPUT" returnType="java.lang.Integer" interpreter="">
                            <content>numErreur</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
            <description>Création historique pour chacun des mails envoyé</description>
            <dataDefinitions>
                <textDataDefinition longText="true" id="8878385359545519294" name="destinataire" transient="false" className="java.lang.String" />
            </dataDefinitions>
            <BusinessDataDefinitions />
            <operations />
            <multiInstanceLoopCharacteristics isSequential="false" loopDataInputRef="listeMailsDestinataires" dataInputItemRef="destinataire" />
            <boundaryEvents />
        </automaticTask>
        <callActivity id="9046522067875361535" name="M-Recherche candidats" callableElementType="PROCESS">
            <incomingTransition>9009001919123159670</incomingTransition>
            <outgoingTransition>5716793462535053404</outgoingTransition>
            <description>Recherche des candidats de rôle "Qualification" pour chacun des services en copie</description>
            <dataDefinitions>
                <dataDefinition id="7115370601916608989" name="cleService" transient="false" className="java.lang.Integer" />
                <textDataDefinition longText="true" id="6026192119815667106" name="candidats" transient="false" className="java.lang.String" />
                <textDataDefinition longText="true" id="6208380613809567414" name="pourActivite" transient="false" className="java.lang.String">
                    <defaultValue id="8832987022932866255" name="Activité appelante" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.String" interpreter="GROOVY">
                        <content>return "Copies du courrier pour " +motifEnvoi;</content>
                        <expression id="6459500260858649825" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                            <content>motifEnvoi</content>
                        </expression>
                    </defaultValue>
                </textDataDefinition>
            </dataDefinitions>
            <BusinessDataDefinitions />
            <operations />
            <multiInstanceLoopCharacteristics isSequential="false" loopDataInputRef="listeClesServices" loopDataOutputRef="listePostesDestinataires" dataInputItemRef="cleService" dataOutputItemRef="candidats" />
            <boundaryEvents />
            <callableElement id="6347616687363529329" name="HDSH-Recherche candidats" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                <content>HDSH-Recherche candidats</content>
            </callableElement>
            <callableElementVersion id="7217588902962679757" name="1.0" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                <content>1.0</content>
            </callableElementVersion>
            <dataInputOperation operatorType="ASSIGNMENT">
                <leftOperand name="acgSociete" type="DATA" />
                <rightOperand id="5443880243961722697" name="acgSociete" expressionType="TYPE_VARIABLE" returnType="java.lang.Integer" interpreter="">
                    <content>acgSociete</content>
                </rightOperand>
            </dataInputOperation>
            <dataInputOperation operatorType="ASSIGNMENT">
                <leftOperand name="role" type="DATA" />
                <rightOperand id="8741253832982243350" name="role" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                    <content>role</content>
                </rightOperand>
            </dataInputOperation>
            <dataInputOperation operatorType="ASSIGNMENT">
                <leftOperand name="cleHierarchieOrganisation" type="DATA" />
                <rightOperand id="5703701781738502177" name="cleService" expressionType="TYPE_VARIABLE" returnType="java.lang.Integer" interpreter="">
                    <content>cleService</content>
                </rightOperand>
            </dataInputOperation>
            <dataInputOperation operatorType="ASSIGNMENT">
                <leftOperand name="pourActivite" type="DATA" />
                <rightOperand id="6151390685404479871" name="pourActivite" expressionType="TYPE_VARIABLE" returnType="java.lang.String" interpreter="">
                    <content>pourActivite</content>
                </rightOperand>
            </dataInputOperation>
            <contractInput />
            <dataOutputOperation operatorType="ASSIGNMENT">
                <leftOperand name="candidats" type="DATA" />
                <rightOperand id="8977123542926617483" name="candidats" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                    <content>candidats</content>
                </rightOperand>
            </dataOutputOperation>
        </callActivity>
        <transitions>
            <transition id="6351699936155462839" name="5315487993453221197_-&gt;_8219049487976354293" source="5315487993453221197" target="8219049487976354293" />
            <transition id="8541096958004731569" name="6982192184951816283_-&gt;_5426549294966537310" source="6982192184951816283" target="5426549294966537310">
                <condition id="4634078834509534881" name="Copie ou réponse" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Boolean" interpreter="GROOVY">
                    <content>return (motifEnvoi.equals("Copie") || motifEnvoi.equals("Réponse"));</content>
                    <expression id="5187213225087661323" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                        <content>motifEnvoi</content>
                    </expression>
                </condition>
            </transition>
            <transition id="5914429967988657270" name="5109620586589647363_-&gt;_8221073351757075018" source="5109620586589647363" target="8221073351757075018" />
            <transition id="8964751939939253924" name="8351368449548875914_-&gt;_9136096485654440764" source="8351368449548875914" target="9136096485654440764" />
            <transition id="6845342621056405641" name="4847657192564344793_-&gt;_7788968491625454402" source="4847657192564344793" target="7788968491625454402" />
            <transition id="8400607532678564939" name="8219049487976354293_-&gt;_5391955320065647225" source="8219049487976354293" target="5391955320065647225" />
            <transition id="5502969058444036739" name="9136096485654440764_-&gt;_8604402553005524666" source="9136096485654440764" target="8604402553005524666" />
            <transition id="5569330579813948270" name="8372920654877062264_-&gt;_4847657192564344793" source="8372920654877062264" target="4847657192564344793">
                <condition id="7977305035046871243" name="Postes destinataires alimentés" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Boolean" interpreter="GROOVY">
                    <content>return ((motifEnvoi.equals("Avis") || motifEnvoi.equals("Elements")) &amp;&amp; listePostesDestinataires.size() != 0);</content>
                    <expression id="7201258143808346855" name="listePostesDestinataires" expressionType="TYPE_VARIABLE" returnType="java.util.List">
                        <content>listePostesDestinataires</content>
                    </expression>
                    <expression id="7409470685463577235" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                        <content>motifEnvoi</content>
                    </expression>
                </condition>
            </transition>
            <transition id="6270375815321578287" name="7788968491625454402_-&gt;_7686663727293143007" source="7788968491625454402" target="7686663727293143007" />
            <transition id="6686750366078109762" name="8221073351757075018_-&gt;_8351368449548875914" source="8221073351757075018" target="8351368449548875914" />
            <transition id="6860487664236796108" name="9136096485654440764_-&gt;_6238176505751283394" source="9136096485654440764" target="6238176505751283394">
                <condition id="8849536976894671490" name="Destinataires alimentés" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Boolean" interpreter="GROOVY">
                    <content>return (mailsDestinataires != null &amp;&amp; !mailsDestinataires.equals(""));</content>
                    <expression id="6542311476238130834" name="mailsDestinataires" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                        <content>mailsDestinataires</content>
                    </expression>
                </condition>
            </transition>
            <transition id="7285811984802838011" name="6238176505751283394_-&gt;_6982192184951816283" source="6238176505751283394" target="6982192184951816283" />
            <transition id="5169314017206108886" name="8372920654877062264_-&gt;_7788968491625454402" source="8372920654877062264" target="7788968491625454402" />
            <transition id="8806771728218235377" name="5391955320065647225_-&gt;_5109620586589647363" source="5391955320065647225" target="5109620586589647363" />
            <transition id="7871731831367709847" name="6982192184951816283_-&gt;_8604402553005524666" source="6982192184951816283" target="8604402553005524666" />
            <transition id="5618251795773638634" name="8604402553005524666_-&gt;_7679727670190794768" source="8604402553005524666" target="7679727670190794768" />
            <transition id="9009001919123159670" name="5391955320065647225_-&gt;_9046522067875361535" source="5391955320065647225" target="9046522067875361535">
                <condition id="8845545615283147628" name="Services non vide" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Boolean" interpreter="GROOVY">
                    <content>return ((listeClesServices != null) &amp;&amp; (!listeClesServices.size().equals(0)));</content>
                    <expression id="6726731972049158670" name="listeClesServices" expressionType="TYPE_VARIABLE" returnType="java.util.List">
                        <content>listeClesServices</content>
                    </expression>
                </condition>
            </transition>
            <transition id="7977166412105884770" name="7679727670190794768_-&gt;_8372920654877062264" source="7679727670190794768" target="8372920654877062264" />
            <transition id="5716793462535053404" name="9046522067875361535_-&gt;_5109620586589647363" source="9046522067875361535" target="5109620586589647363" />
            <transition id="8032880208677487150" name="5426549294966537310_-&gt;_7679727670190794768" source="5426549294966537310" target="7679727670190794768" />
        </transitions>
        <gateway id="5391955320065647225" name="MA-Recherche candidats" gatewayType="EXCLUSIVE">
            <incomingTransition>8400607532678564939</incomingTransition>
            <outgoingTransition>9009001919123159670</outgoingTransition>
            <defaultTransition>8806771728218235377</defaultTransition>
        </gateway>
        <gateway id="5109620586589647363" name="MA-Fin candidtas" gatewayType="EXCLUSIVE">
            <incomingTransition>8806771728218235377</incomingTransition>
            <incomingTransition>5716793462535053404</incomingTransition>
            <outgoingTransition>5914429967988657270</outgoingTransition>
        </gateway>
        <gateway id="9136096485654440764" name="MA-Envoi mail" gatewayType="EXCLUSIVE">
            <incomingTransition>8964751939939253924</incomingTransition>
            <outgoingTransition>6860487664236796108</outgoingTransition>
            <defaultTransition>5502969058444036739</defaultTransition>
        </gateway>
        <gateway id="7679727670190794768" name="MA-Fin envoi mail" gatewayType="EXCLUSIVE">
            <incomingTransition>8032880208677487150</incomingTransition>
            <incomingTransition>5618251795773638634</incomingTransition>
            <outgoingTransition>7977166412105884770</outgoingTransition>
        </gateway>
        <gateway id="8372920654877062264" name="MA-Tâche" gatewayType="EXCLUSIVE">
            <incomingTransition>7977166412105884770</incomingTransition>
            <outgoingTransition>5569330579813948270</outgoingTransition>
            <defaultTransition>5169314017206108886</defaultTransition>
        </gateway>
        <gateway id="7788968491625454402" name="MA-Fin tâche" gatewayType="EXCLUSIVE">
            <incomingTransition>5169314017206108886</incomingTransition>
            <incomingTransition>6845342621056405641</incomingTransition>
            <outgoingTransition>6270375815321578287</outgoingTransition>
        </gateway>
        <gateway id="6982192184951816283" name="MA-Historique" gatewayType="EXCLUSIVE">
            <incomingTransition>7285811984802838011</incomingTransition>
            <outgoingTransition>8541096958004731569</outgoingTransition>
            <defaultTransition>7871731831367709847</defaultTransition>
        </gateway>
        <gateway id="8604402553005524666" name="MA-Sans historique" gatewayType="EXCLUSIVE">
            <incomingTransition>5502969058444036739</incomingTransition>
            <incomingTransition>7871731831367709847</incomingTransition>
            <outgoingTransition>5618251795773638634</outgoingTransition>
        </gateway>
        <startEvent id="5315487993453221197" name="Début envoi" interrupting="true">
            <outgoingTransition>6351699936155462839</outgoingTransition>
        </startEvent>
        <endEvent id="7686663727293143007" name="Fin envoi">
            <incomingTransition>6270375815321578287</incomingTransition>
            <terminateEventTrigger />
        </endEvent>
        <dataDefinitions>
            <dataDefinition id="5346409804006375119" name="listeClesServices" transient="false" className="java.util.List" />
            <textDataDefinition longText="true" id="5081662311343677416" name="emetteurMail" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="7738736880555596097" name="mailsDestinataires" transient="false" className="java.lang.String" />
            <dataDefinition id="6900350755437596444" name="numErreur" transient="false" className="java.lang.Integer">
                <defaultValue id="5846263304443860374" name="0" expressionType="TYPE_CONSTANT" returnType="java.lang.Integer" interpreter="">
                    <content>0</content>
                </defaultValue>
            </dataDefinition>
            <textDataDefinition longText="true" id="6896574413649496633" name="acgDocumentCourrier" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="9088988430200105806" name="courrierReponse" transient="false" className="java.lang.String" />
            <dataDefinition id="6921793972036748423" name="acgSociete" transient="false" className="java.lang.Integer" />
            <textDataDefinition longText="true" id="8192220239313627853" name="sujetMail" transient="false" className="java.lang.String" />
            <dataDefinition id="5647669319276935024" name="listeMailsDestinataires" transient="false" className="java.util.List" />
            <dataDefinition id="7793491624199799421" name="emetteurClePersonne" transient="false" className="java.lang.Integer" />
            <dataDefinition id="5181756294672888690" name="emetteurCleHierarchie" transient="false" className="java.lang.Integer" />
            <dataDefinition id="8434333197077457470" name="listePostesDestinataires" transient="false" className="java.util.List" />
            <textDataDefinition longText="true" id="6276826213210974087" name="motifEnvoi" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="6572637938636071546" name="libelleTache" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="5460458121090999561" name="courrierObjet" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="9011065767549000168" name="commentaireInitialisation" transient="false" className="java.lang.String" />
            <dataDefinition id="7766188641536074887" name="listeAvisOuElements" transient="false" className="java.util.List" />
            <textDataDefinition longText="true" id="7235334244120969158" name="commentaireAvisOuElements" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="6445068163881746994" name="documentAvisOuElements" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="4718083697699161364" name="corps1Mail" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="5643313288055075912" name="corps2Mail" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="6670620278847665719" name="acgFichierConfiguration" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="8649324714443944651" name="acgRepertoireDocuments" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="7511432514335520441" name="smtpHote" transient="false" className="java.lang.String" />
            <dataDefinition id="5647569262070541886" name="smtpPort" transient="false" className="java.lang.Integer" />
            <textDataDefinition longText="true" id="6026148923969104460" name="smtpUtilisateur" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="8052365473999107817" name="smtpMdp" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="7712965911445205058" name="corps3Mail" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="6357411782464427172" name="commentaireRefus" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="5825814818936673869" name="role" transient="false" className="java.lang.String">
                <defaultValue id="6829568822569631654" name="Qualification" expressionType="TYPE_CONSTANT" returnType="java.lang.String" interpreter="">
                    <content>Qualification</content>
                </defaultValue>
            </textDataDefinition>
            <textDataDefinition longText="true" id="8569126960805403919" name="aaaSousProcessus" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="5970112400726380871" name="courrierReference" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="8597517959093026839" name="dateLimiteReponse" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="6660777022053408572" name="signataireReponse" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="8480607062076623489" name="courrierExpediteur" transient="false" className="java.lang.String" />
            <textDataDefinition longText="true" id="8697961086684991746" name="dateLimiteElementsTexte" transient="false" className="java.lang.String" />
        </dataDefinitions>
        <businessDataDefinitions />
        <documentDefinitions>
            <documentDefinition id="8188396007429341332" name="pieceJointe1" mimeType="application/octet-stream">
                <description>Première pièce jointe au mail</description>
            </documentDefinition>
            <documentDefinition id="6834288402729668926" name="pieceJointe2" mimeType="application/octet-stream">
                <description>Deuxième pièce jointe au mail</description>
            </documentDefinition>
        </documentDefinitions>
        <documentListDefinitions />
        <connectors>
            <connector id="6089671152177414640" name="Alimentation libellé du sous processus" connectorId="scripting-groovy" activationEvent="ON_ENTER" version="1.0.2" failAction="FAIL">
                <inputs>
                    <input name="script">
                        <expression id="8104208548733069685" name="Libellé" expressionType="TYPE_READ_ONLY_SCRIPT" returnType="java.lang.Object" interpreter="GROOVY">
                            <content>String libelle = "Copies du courrier pour " +motifEnvoi+ " à ";

                                if (listeClesServices != null) {

                                libelle += listeClesServices;

                                } else {

                                libelle += listePostesDestinataires;

                                }

                                return libelle;
                            </content>
                            <expression id="8117872993068929737" name="listeClesServices" expressionType="TYPE_VARIABLE" returnType="java.util.List">
                                <content>listeClesServices</content>
                            </expression>
                            <expression id="7271088640656391802" name="motifEnvoi" expressionType="TYPE_VARIABLE" returnType="java.lang.String">
                                <content>motifEnvoi</content>
                            </expression>
                            <expression id="5578248953073396448" name="listePostesDestinataires" expressionType="TYPE_VARIABLE" returnType="java.util.List">
                                <content>listePostesDestinataires</content>
                            </expression>
                        </expression>
                    </input>
                </inputs>
                <outputs>
                    <operation operatorType="ASSIGNMENT">
                        <leftOperand name="aaaSousProcessus" type="DATA" />
                        <rightOperand id="4618263624556865285" name="result" expressionType="TYPE_INPUT" returnType="java.lang.Object" interpreter="">
                            <content>result</content>
                        </rightOperand>
                    </operation>
                </outputs>
            </connector>
        </connectors>
        <elementFinder />
    </flowElements>
    <stringIndexes>
        <stringIndex index="1" />
        <stringIndex index="2" />
        <stringIndex index="3" />
        <stringIndex index="4" />
        <stringIndex index="5" />
    </stringIndexes>
    <contract>
        <inputDefinitions />
        <constraints />
    </contract>
    <context>
        <contextEntry key="pieceJointe1_ref">
            <expression id="8698988123036307821" name="pieceJointe1" expressionType="TYPE_DOCUMENT" returnType="org.bonitasoft.engine.bpm.document.Document">
                <content>pieceJointe1</content>
            </expression>
        </contextEntry>
        <contextEntry key="pieceJointe2_ref">
            <expression id="9129386008518889428" name="pieceJointe2" expressionType="TYPE_DOCUMENT" returnType="org.bonitasoft.engine.bpm.document.Document">
                <content>pieceJointe2</content>
            </expression>
        </contextEntry>
    </context>
</def:processDefinition>

<?xml version="1.0" encoding="UTF-8"?><processDefinition xmlns="http://www.bonitasoft.org/ns/process/client/6.3" bos_version="6.0-SNAPSHOT" description="SIFISC-22289" displayDescription="SIFISC-22289" name="DPerm-DI-Traitement" version="1.7.4-SNAPSHOT">
  <stringIndexes>
    <stringIndex index="1"/>
    <stringIndex index="2"/>
    <stringIndex index="3"/>
    <stringIndex index="4"/>
    <stringIndex index="5"/>
  </stringIndexes>
  <flowElements>
    <transitions>
      <transition id="1675101356221904522" name="7388299161014010762_-&gt;_4734649822079597020" source="7388299161014010762" target="4734649822079597020">
        <condition expressionType="TYPE_READ_ONLY_SCRIPT" id="3360383054596849399" interpreter="GROOVY" name="codeSortieTraiterAuto" returnType="java.lang.Boolean">
          <content>codeSortie=="TraiterAuto"</content>
          <expression expressionType="TYPE_VARIABLE" id="1413411605605235776" name="codeSortie" returnType="java.lang.String">
            <content>codeSortie</content>
          </expression>
        </condition>
      </transition>
      <transition id="2098319846097241480" name="4891396914365864292_-&gt;_6073915969901455651" source="4891396914365864292" target="6073915969901455651"/>
      <transition id="9082619955548434957" name="8370401517283107263_-&gt;_8560564685799247902" source="8370401517283107263" target="8560564685799247902"/>
      <transition id="2624266713505154307" name="7388299161014010762_-&gt;_6380864161798941344" source="7388299161014010762" target="6380864161798941344"/>
      <transition id="2343250618851438681" name="6268203939006364973_-&gt;_5629533306995645750" source="6268203939006364973" target="5629533306995645750"/>
      <transition id="5714507348253297559" name="4891396914365864292_-&gt;_6252973325900871568" source="4891396914365864292" target="6252973325900871568">
        <condition expressionType="TYPE_READ_ONLY_SCRIPT" id="7297353319468712316" interpreter="GROOVY" name="nonCLOTURE" returnType="java.lang.Boolean">
          <content>evtBatchType != "CLOTURE"</content>
          <expression expressionType="TYPE_VARIABLE" id="821358473168768397" name="evtBatchType" returnType="java.lang.String">
            <content>evtBatchType</content>
          </expression>
        </condition>
      </transition>
      <transition id="4625457961217049354" name="6487088907925167142_-&gt;_7388299161014010762" source="6487088907925167142" target="7388299161014010762"/>
      <transition id="4343618634837178547" name="4734649822079597020_-&gt;_8588443068004960945" source="4734649822079597020" target="8588443068004960945"/>
      <transition id="3179073822722902184" name="5666688984449361999_-&gt;_8548955663866378397" source="5666688984449361999" target="8548955663866378397"/>
      <transition id="2192635491772023122" name="8966411725253132454_-&gt;_4891396914365864292" source="8966411725253132454" target="4891396914365864292"/>
      <transition id="1356235213769848147" name="8285225717668220447_-&gt;_4739514639975361350" source="8285225717668220447" target="4739514639975361350"/>
      <transition id="6017069713153740375" name="8285225717668220447_-&gt;_6252973325900871568" source="8285225717668220447" target="6252973325900871568">
        <condition expressionType="TYPE_VARIABLE" id="7385344360401881103" interpreter="" name="traitementMetier" returnType="java.lang.Boolean">
          <content>traitementMetier</content>
        </condition>
      </transition>
      <transition id="5085475497713318233" name="7403372330676703890_-&gt;_8039482434635295807" source="7403372330676703890" target="8039482434635295807"/>
      <transition id="8019618378911365045" name="5394987203348361148_-&gt;_5666688984449361999" source="5394987203348361148" target="5666688984449361999"/>
      <transition id="3046873219983427769" name="5521308306647451958_-&gt;_8370401517283107263" source="5521308306647451958" target="8370401517283107263"/>
      <transition id="1670908051585219535" name="8588443068004960945_-&gt;_8966411725253132454" source="8588443068004960945" target="8966411725253132454"/>
      <transition id="2779811061238119428" name="5666688984449361999_-&gt;_9145798270074048733" source="5666688984449361999" target="9145798270074048733">
        <condition expressionType="TYPE_READ_ONLY_SCRIPT" id="2956190456067373988" interpreter="GROOVY" name="identifiantQuittanceExists" returnType="java.lang.Boolean">
          <content>(identifiantQuittance != null) &amp;&amp; (identifiantQuittance.trim().length()&gt;0)</content>
          <expression expressionType="TYPE_VARIABLE" id="3664586212455107898" name="identifiantQuittance" returnType="java.lang.String">
            <content>identifiantQuittance</content>
          </expression>
        </condition>
      </transition>
      <transition id="7430243821654358015" name="4891396914365864292_-&gt;_6268203939006364973" source="4891396914365864292" target="6268203939006364973">
        <condition expressionType="TYPE_READ_ONLY_SCRIPT" id="5892470130160782977" interpreter="GROOVY" name="codeSegmentSM" returnType="java.lang.Boolean">
          <content>codeSegment=="SM"</content>
          <expression expressionType="TYPE_VARIABLE" id="1775570305683603402" name="codeSegment" returnType="java.lang.String">
            <content>codeSegment</content>
          </expression>
        </condition>
      </transition>
      <transition id="6948977785232930061" name="8560564685799247902_-&gt;_5394987203348361148" source="8560564685799247902" target="5394987203348361148">
        <condition expressionType="TYPE_READ_ONLY_SCRIPT" id="8445190122139726619" interpreter="GROOVY" name="isPapier" returnType="java.lang.Boolean">
          <content>support=="PAPIER" &amp;&amp; esbDestinationReponseQuittance!=null &amp;&amp; esbDestinationReponseQuittance.trim().length()&gt;0</content>
          <expression expressionType="TYPE_VARIABLE" id="8508743686155776646" name="support" returnType="java.lang.String">
            <content>support</content>
          </expression>
          <expression expressionType="TYPE_PARAMETER" id="6581818447476117004" name="esbDestinationReponseQuittance" returnType="java.lang.String">
            <content>esbDestinationReponseQuittance</content>
          </expression>
        </condition>
      </transition>
      <transition id="8229358156792546" name="7388299161014010762_-&gt;_7403372330676703890" source="7388299161014010762" target="7403372330676703890">
        <condition expressionType="TYPE_READ_ONLY_SCRIPT" id="866478292611057366" interpreter="GROOVY" name="codeSortieTraiter" returnType="java.lang.Boolean">
          <content>codeSortie=="Traiter"</content>
          <expression expressionType="TYPE_VARIABLE" id="69704005770064304" name="codeSortie" returnType="java.lang.String">
            <content>codeSortie</content>
          </expression>
        </condition>
      </transition>
      <transition id="8858576414781127715" name="6073915969901455651_-&gt;_7128713999811840789" source="6073915969901455651" target="7128713999811840789"/>
      <transition id="6193867133598544158" name="9145798270074048733_-&gt;_6739970765088575509" source="9145798270074048733" target="6739970765088575509"/>
      <transition id="271778176439270517" name="6764569961658403848_-&gt;_6487088907925167142" source="6764569961658403848" target="6487088907925167142"/>
      <transition id="1890278031547938487" name="6252973325900871568_-&gt;_6764569961658403848" source="6252973325900871568" target="6764569961658403848"/>
      <transition id="526737323967399420" name="4739514639975361350_-&gt;_4734649822079597020" source="4739514639975361350" target="4734649822079597020"/>
      <transition id="3251715541597831485" name="6739970765088575509_-&gt;_8285225717668220447" source="6739970765088575509" target="8285225717668220447"/>
      <transition id="4759361807211446512" name="8548955663866378397_-&gt;_6739970765088575509" source="8548955663866378397" target="6739970765088575509"/>
      <transition id="7327942359573153757" name="6380864161798941344_-&gt;_6683116649670951065" source="6380864161798941344" target="6683116649670951065"/>
      <transition id="261700230274332232" name="7444391820720454445_-&gt;_5521308306647451958" source="7444391820720454445" target="5521308306647451958"/>
      <transition id="7366485876371339538" name="8560564685799247902_-&gt;_8285225717668220447" source="8560564685799247902" target="8285225717668220447"/>
    </transitions>
    <connectors/>
    <dataDefinitions>
      <textDataDefinition className="java.lang.String" longText="true" name="groupeCandidatTraitement" transient="false"/>
      <dataDefinition className="java.lang.Double" name="montant" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="npa" transient="false"/>
      <dataDefinition className="java.lang.Integer" name="numeroTiers" transient="false"/>
      <dataDefinition className="java.lang.Integer" name="periodeFiscale" transient="false"/>
      <dataDefinition className="java.lang.Integer" name="dateNaissance" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="actionFin" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="codeSortie" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="motifSortie" transient="false"/>
      <dataDefinition className="java.util.Date" name="dateReceptionDocument" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="documentType" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="documentSousType" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="identifiantRepertoireElectronique" transient="false"/>
      <dataDefinition className="java.lang.Integer" name="numeroOid" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="typeImpot" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="messageCorrelationId" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="identifiantSupervision" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="lastMessageContent" transient="false"/>
      <dataDefinition className="java.lang.Boolean" name="traitementMetier" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="visaDossierReserve" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="visaPreferentiel" transient="false"/>
      <dataDefinition className="java.lang.Float" name="poidsTacheTraitementMetier" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="typeTacheTraitementMetier" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="pays" transient="false"/>
      <dataDefinition className="java.lang.Long" name="utilisateurTraitementMetierId" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="codeSegment" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="documentContentUrl" transient="false"/>
      <dataDefinition className="java.lang.Long" name="numeroAVS13" transient="false"/>
      <dataDefinition className="java.util.Date" name="dateDeterminante" transient="false"/>
      <dataDefinition className="java.util.Date" name="horodatage" transient="false"/>
      <dataDefinition className="java.lang.Boolean" name="controleIA" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="etatTaxation" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="typeTaxation" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="identifiantTache" transient="false"/>
      <dataDefinition className="java.lang.Boolean" name="releveFiscalBancaire" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="actionAbandon" transient="false"/>
      <dataDefinition className="java.lang.Long" name="idTacheMetier" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="evtBatchType" transient="false">
        <defaultValue expressionType="TYPE_CONSTANT" id="7738624120406296845" interpreter="" name="evtBatchType" returnType="java.lang.String">
          <content>evtBatchType</content>
        </defaultValue>
      </textDataDefinition>
      <textDataDefinition className="java.lang.String" longText="true" name="nomPrenoms" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="regleAttribution" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="doublonTypeTaxation" transient="false"/>
      <dataDefinition className="java.lang.Boolean" name="assujettissement360" transient="false"/>
      <dataDefinition className="java.lang.Boolean" name="contribuableSourcierMixte" transient="false"/>
      <dataDefinition className="java.lang.Integer" name="dateDeces" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="bamProcessInstanceId" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="bamProcessDefinitionId" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="visaUtilisateurTache" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="typeAssujettissement" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="note" transient="false"/>
      <dataDefinition className="ch.vd.bpm.dperm.beans.IdentifiantArchivage" name="identifiantArchiveXMLUnitaire" transient="false"/>
      <dataDefinition className="java.lang.Long" name="traitementDiTaskBusinessId" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="support" transient="false"/>
      <dataDefinition className="java.lang.Integer" name="ctbAssujettiOID" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="contextTache" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="identifiantQuittance" transient="false"/>
      <textDataDefinition className="java.lang.String" longText="true" name="qualificationSDI" transient="false"/>
      <dataDefinition className="java.lang.Boolean" name="collaborateur" transient="false"/>
      <dataDefinition className="java.lang.Boolean" name="heritage" transient="false"/>
    </dataDefinitions>
    <documentDefinitions/>
    <documentListDefinitions/>
    <flowNodes>
      <automaticTask description="la DI doit être intégrée dans TAOPP" id="5521308306647451958" name="Demander intégrer DI">
        <incomingTransition idref="261700230274332232"/>
        <outgoingTransition idref="3046873219983427769"/>
        <connector activationEvent="ON_ENTER" connectorId="EsbVdJmsSendRequest" failAction="FAIL" name="integrerDi" version="1.0.0">
          <inputs>
            <input name="messageName">
              <expression expressionType="TYPE_CONSTANT" id="8864588348005303548" interpreter="" name="ReponseIntegrerDI" returnType="java.lang.String">
                <content>ReponseIntegrerDI</content>
              </expression>
            </input>
            <input name="headers">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="963328566954967438" interpreter="GROOVY" name="headersBam" returnType="java.util.Map">
                <content>[
	'processInstanceId':bamProcessInstanceId,
	'processDefinitionId':bamProcessDefinitionId
]</content>
                <expression expressionType="TYPE_ENGINE_CONSTANT" id="3156534442937764909" interpreter="" name="processInstanceId" returnType="java.lang.Long">
                  <content>processInstanceId</content>
                </expression>
                <expression expressionType="TYPE_ENGINE_CONSTANT" id="8371184280982896585" interpreter="" name="processDefinitionId" returnType="java.lang.Long">
                  <content>processDefinitionId</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5568567176478673857" name="bamProcessInstanceId" returnType="java.lang.String">
                  <content>bamProcessInstanceId</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="1243644615863811686" name="bamProcessDefinitionId" returnType="java.lang.String">
                  <content>bamProcessDefinitionId</content>
                </expression>
              </expression>
            </input>
            <input name="domaine">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="3594225280905425725" interpreter="GROOVY" name="esb.domain" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.domain");</content>
              </expression>
            </input>
            <input name="destination">
              <expression expressionType="TYPE_PARAMETER" id="6578909741721929148" interpreter="" name="esbDestinationIntegrerDI" returnType="java.lang.String">
                <content>esbDestinationIntegrerDI</content>
              </expression>
            </input>
            <input name="businessId">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="433509640202766830" interpreter="GROOVY" name="IntegrerDi-CTB-PF-" returnType="java.lang.String">
                <content>"IntegrerDi-"+numeroTiers+"-"+periodeFiscale+"-"</content>
                <expression expressionType="TYPE_VARIABLE" id="1706698948059021721" name="numeroTiers" returnType="java.lang.Integer">
                  <content>numeroTiers</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="3303722578668073803" name="periodeFiscale" returnType="java.lang.Integer">
                  <content>periodeFiscale</content>
                </expression>
              </expression>
            </input>
            <input name="contentAsUrl">
              <expression expressionType="TYPE_CONSTANT" id="8174312671846448789" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="serviceReplyTo">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="7274685077190261669" interpreter="GROOVY" name="esb.destination.retour.bonita" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.destination.retour.bonita");</content>
              </expression>
            </input>
            <input name="body">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="9033150789451888913" interpreter="GROOVY" name="body" returnType="java.lang.Object">
                <content>import ch.vd.bpm.dperm.util.DpermAutoValidator;



def writer = new StringWriter()

def xml = new groovy.xml.MarkupBuilder(writer)

xml.'elementsIntegrationMetier'(

		'xmlns':'http://www.vd.ch/fiscalite/dperm/taopp/elementsIntegrationMetier/1'

) {

	'periodeFiscale'(periodeFiscale)

	'numeroContribuable'(numeroTiers)

	'xmlUnitaire' {

		'typeDossier'(identifiantArchiveXMLUnitaire.getFolderType())

		'nomDossier'(identifiantArchiveXMLUnitaire.getFolderName())

		'typeArchive'(identifiantArchiveXMLUnitaire.getDocType())

		'identifiantArchive'(identifiantArchiveXMLUnitaire.getDocName())

	}

}

def xmlStr = writer.toString()

DpermAutoValidator.validate(xmlStr, apiAccessor, processDefinitionId)

return xmlStr</content>
                <expression expressionType="TYPE_VARIABLE" id="5338652594211078379" name="numeroTiers" returnType="java.lang.Integer">
                  <content>numeroTiers</content>
                </expression>
                <expression expressionType="TYPE_ENGINE_CONSTANT" id="6050499324014608158" interpreter="" name="apiAccessor" returnType="com.bonitasoft.engine.api.APIAccessor">
                  <content>apiAccessor</content>
                </expression>
                <expression expressionType="TYPE_ENGINE_CONSTANT" id="2715097224560461944" interpreter="" name="processDefinitionId" returnType="java.lang.Long">
                  <content>processDefinitionId</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="8352816095528832469" name="identifiantArchiveXMLUnitaire" returnType="ch.vd.bpm.dperm.beans.IdentifiantArchivage">
                  <content>identifiantArchiveXMLUnitaire</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="3177160005442488677" name="periodeFiscale" returnType="java.lang.Integer">
                  <content>periodeFiscale</content>
                </expression>
              </expression>
            </input>
            <input name="businessUser">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="1230573443534373289" interpreter="GROOVY" name="esb.business.user" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.business.user");</content>
              </expression>
            </input>
            <input name="connectionFactoryJndiName">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="6578679451894890570" interpreter="GROOVY" name="esb.jms.connectionFactory" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.jms.connectionFactory");</content>
              </expression>
            </input>
            <input name="targetFlowNode">
              <expression expressionType="TYPE_CONSTANT" id="6254183689784675048" interpreter="" name="RecevoirReponseIntegrerDI" returnType="java.lang.String">
                <content>RecevoirReponseIntegrerDI</content>
              </expression>
            </input>
            <input name="application">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="5656975209732684840" interpreter="GROOVY" name="esb.application" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.application");</content>
              </expression>
            </input>
            <input name="bonitaInstance">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="2823170442727895975" interpreter="GROOVY" name="esb.bonita.instance" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.bonita.instance");</content>
              </expression>
            </input>
            <input name="contexte">
              <expression expressionType="TYPE_CONSTANT" id="1036691714154120189" interpreter="" name="integrerDi" returnType="java.lang.String">
                <content>integrerDi</content>
              </expression>
            </input>
            <input name="attachmentUrls">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="8898425004601855780" interpreter="GROOVY" name="dataDocumentContentUrl" returnType="java.util.Map">
                <content>[data:documentContentUrl]</content>
                <expression expressionType="TYPE_VARIABLE" id="1204176802673149555" name="documentContentUrl" returnType="java.lang.String">
                  <content>documentContentUrl</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="messageCorrelationId" type="DATA"/>
              <rightOperand expressionType="TYPE_INPUT" id="8139085479763592595" interpreter="" name="correlationId" returnType="java.lang.String">
                <content>correlationId</content>
              </rightOperand>
            </operation>
          </outputs>
        </connector>
        <connector activationEvent="ON_ENTER" connectorId="scripting-groovy" failAction="FAIL" name="compatibiliteOID" version="1.0.1">
          <inputs>
            <input name="script">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="6761649585275976205" interpreter="GROOVY" name="compatibiliteOID" returnType="java.lang.Object">
                <content>numeroOid != null ? numeroOid : ctbAssujettiOID</content>
                <expression expressionType="TYPE_VARIABLE" id="7009352232340732994" name="numeroOid" returnType="java.lang.Integer">
                  <content>numeroOid</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="3880079247505080311" name="ctbAssujettiOID" returnType="java.lang.Integer">
                  <content>ctbAssujettiOID</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="numeroOid" type="DATA"/>
              <rightOperand expressionType="TYPE_INPUT" id="5882152585757571916" interpreter="" name="result" returnType="java.lang.Object">
                <content>result</content>
              </rightOperand>
            </operation>
          </outputs>
        </connector>
        <dataDefinitions/>
        <operations/>
        <boundaryEvents/>
      </automaticTask>
      <callActivity callableElementType="PROCESS" id="6764569961658403848" name="Demande Attribution">
        <incomingTransition idref="1890278031547938487"/>
        <outgoingTransition idref="271778176439270517"/>
        <connector activationEvent="ON_ENTER" connectorId="HistoriqueDperm" failAction="FAIL" name="histoCreateTache" version="2.1.1">
          <inputs>
            <input name="evtProcessus">
              <expression expressionType="TYPE_CONSTANT" id="8953822835699662633" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="visaUtilisateur">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="4263023115112855394" interpreter="GROOVY" name="visa.utilisateur.technique" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("visa.utilisateur.technique");</content>
              </expression>
            </input>
            <input name="codeOperation">
              <expression expressionType="TYPE_CONSTANT" id="3839508809812587860" interpreter="" name="TRAITEMENT_MET_DEMANDE_CREATE_TACHE" returnType="java.lang.String">
                <content>TRAITEMENT_MET_DEMANDE_CREATE_TACHE</content>
              </expression>
            </input>
            <input name="evtTache">
              <expression expressionType="TYPE_CONSTANT" id="4247872978431160946" interpreter="" name="false" returnType="java.lang.Boolean">
                <content>false</content>
              </expression>
            </input>
            <input name="identifiantSupervision">
              <expression expressionType="TYPE_VARIABLE" id="3967871369267003573" interpreter="" name="identifiantSupervision" returnType="java.lang.String">
                <content>identifiantSupervision</content>
              </expression>
            </input>
            <input name="identifiantRepelec">
              <expression expressionType="TYPE_VARIABLE" id="4050606278733810546" interpreter="" name="identifiantRepertoireElectronique" returnType="java.lang.String">
                <content>identifiantRepertoireElectronique</content>
              </expression>
            </input>
            <input name="historique">
              <expression expressionType="TYPE_CONSTANT" id="102095191775426417" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="caracteristiques">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="8656407688101212586" interpreter="GROOVY" name="map" returnType="java.util.Map">
                <content>["documentType":documentType,

	"documentSousType":documentSousType,

	"periodeFiscale":periodeFiscale,

	"montant":montant,

	"dateReception":dateReceptionDocument,

	"numeroContribuable":numeroTiers,

	"nomPrenoms":nomPrenoms,

	"numeroAVS13":numeroAVS13,

	"dateNaissance":dateNaissance,

	"numeroOid" : numeroOid,

	"support":support]</content>
                <expression expressionType="TYPE_VARIABLE" id="5812223353478728814" name="numeroOid" returnType="java.lang.Integer">
                  <content>numeroOid</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="6374783761548853305" name="documentSousType" returnType="java.lang.String">
                  <content>documentSousType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="7300641274711226016" name="documentType" returnType="java.lang.String">
                  <content>documentType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="3100842852919230987" name="dateReceptionDocument" returnType="java.util.Date">
                  <content>dateReceptionDocument</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="8191690376207550609" name="nomPrenoms" returnType="java.lang.String">
                  <content>nomPrenoms</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2808802936497225557" name="support" returnType="java.lang.String">
                  <content>support</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5176378828688475471" name="montant" returnType="java.lang.Double">
                  <content>montant</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="8440250263091722930" name="dateNaissance" returnType="java.lang.Integer">
                  <content>dateNaissance</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5337173254144281142" name="numeroTiers" returnType="java.lang.Integer">
                  <content>numeroTiers</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="3871676029065644056" name="numeroAVS13" returnType="java.lang.Long">
                  <content>numeroAVS13</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="8681089367596972251" name="periodeFiscale" returnType="java.lang.Integer">
                  <content>periodeFiscale</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <connector activationEvent="ON_FINISH" connectorId="HistoriqueDperm" failAction="FAIL" name="histoAttributionDi" version="2.1.1">
          <inputs>
            <input name="evtProcessus">
              <expression expressionType="TYPE_CONSTANT" id="1822922512108176786" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="visaUtilisateur">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="7816673012374945285" interpreter="GROOVY" name="visa.utilisateur.technique" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("visa.utilisateur.technique");</content>
              </expression>
            </input>
            <input name="codeOperation">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="6357714905047584516" interpreter="GROOVY" name="TRAITEMENT_MET_ATTRIBUTION_TACHE" returnType="java.lang.String">
                <content>"TRAITEMENT_MET_ATTRIBUTION_TACHE_"+regleAttribution</content>
                <expression expressionType="TYPE_VARIABLE" id="5402010679253748862" name="regleAttribution" returnType="java.lang.String">
                  <content>regleAttribution</content>
                </expression>
              </expression>
            </input>
            <input name="evtTache">
              <expression expressionType="TYPE_CONSTANT" id="4152383593982639889" interpreter="" name="false" returnType="java.lang.Boolean">
                <content>false</content>
              </expression>
            </input>
            <input name="identifiantSupervision">
              <expression expressionType="TYPE_VARIABLE" id="1923621883278214520" interpreter="" name="identifiantSupervision" returnType="java.lang.String">
                <content>identifiantSupervision</content>
              </expression>
            </input>
            <input name="typeTache">
              <expression expressionType="TYPE_VARIABLE" id="8958069564286390257" interpreter="" name="typeTacheTraitementMetier" returnType="java.lang.String">
                <content>typeTacheTraitementMetier</content>
              </expression>
            </input>
            <input name="identifiantRepelec">
              <expression expressionType="TYPE_VARIABLE" id="4401061293462405989" interpreter="" name="identifiantRepertoireElectronique" returnType="java.lang.String">
                <content>identifiantRepertoireElectronique</content>
              </expression>
            </input>
            <input name="valeurApres">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="5535333840249274293" interpreter="GROOVY" name="visaUtilisateurTacheOuGroupeCandidatTraitement" returnType="java.lang.String">
                <content>visaUtilisateurTache ? visaUtilisateurTache : groupeCandidatTraitement</content>
                <expression expressionType="TYPE_VARIABLE" id="1316627614229315237" name="visaUtilisateurTache" returnType="java.lang.String">
                  <content>visaUtilisateurTache</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="8152311129583695983" name="groupeCandidatTraitement" returnType="java.lang.String">
                  <content>groupeCandidatTraitement</content>
                </expression>
              </expression>
            </input>
            <input name="historique">
              <expression expressionType="TYPE_CONSTANT" id="893063111387466790" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="caracteristiques">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="2386801070112553899" interpreter="GROOVY" name="map" returnType="java.util.Map">
                <content>["documentType":documentType,

	"documentSousType":documentSousType,

	"periodeFiscale":periodeFiscale,

	"montant":montant,

	"dateReception":dateReceptionDocument,

	"numeroTiersIdentifie":numeroTiers,

	"nomPrenoms":nomPrenoms,

	"numeroAVS13":numeroAVS13,

	"dateNaissance":dateNaissance,

	"numeroOid" : numeroOid,

	"support":support]</content>
                <expression expressionType="TYPE_VARIABLE" id="1400369860195405695" name="numeroOid" returnType="java.lang.Integer">
                  <content>numeroOid</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5533177845604595637" name="documentSousType" returnType="java.lang.String">
                  <content>documentSousType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="1714550695130217910" name="documentType" returnType="java.lang.String">
                  <content>documentType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5425302974481808643" name="dateReceptionDocument" returnType="java.util.Date">
                  <content>dateReceptionDocument</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="1241047692881146315" name="nomPrenoms" returnType="java.lang.String">
                  <content>nomPrenoms</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="4939293223031455363" name="support" returnType="java.lang.String">
                  <content>support</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2141356165359449644" name="montant" returnType="java.lang.Double">
                  <content>montant</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="3163607036515600258" name="dateNaissance" returnType="java.lang.Integer">
                  <content>dateNaissance</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="7641629242883880347" name="numeroTiers" returnType="java.lang.Integer">
                  <content>numeroTiers</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="1298572212604088750" name="numeroAVS13" returnType="java.lang.Long">
                  <content>numeroAVS13</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="6726678343159398984" name="periodeFiscale" returnType="java.lang.Integer">
                  <content>periodeFiscale</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <dataDefinitions/>
        <operations>
          <operation operatorType="ASSIGNMENT">
            <leftOperand name="visaUtilisateurTache" type="DATA"/>
            <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="2948844667595439804" interpreter="GROOVY" name="getUsername" returnType="java.lang.String">
              <content>import org.slf4j.LoggerFactory;

def username = null

if( utilisateurTraitementMetierId!= null) {
	try {
		username = apiAccessor.getIdentityAPI().getUser(utilisateurTraitementMetierId).getUserName()
	} catch(Exception ex) {
		LoggerFactory.getLogger("ch.vd.bpm.dperm.groovy").warn("impossible de trouver le username pour l'id "+utilisateurTraitementMetierId,ex);
	}
}

return username</content>
              <expression expressionType="TYPE_ENGINE_CONSTANT" id="8645287706781200850" interpreter="" name="apiAccessor" returnType="com.bonitasoft.engine.api.APIAccessor">
                <content>apiAccessor</content>
              </expression>
              <expression expressionType="TYPE_VARIABLE" id="6015826375701673603" name="utilisateurTraitementMetierId" returnType="java.lang.Long">
                <content>utilisateurTraitementMetierId</content>
              </expression>
            </rightOperand>
          </operation>
        </operations>
        <boundaryEvents/>
        <callableElement expressionType="TYPE_CONSTANT" id="6812151968303563605" interpreter="" name="DPerm-AttributionMetier" returnType="java.lang.String">
          <content>DPerm-AttributionMetier</content>
        </callableElement>
        <callableElementVersion expressionType="TYPE_PARAMETER" id="3958010640423829156" interpreter="" name="versionProcessAttribution" returnType="java.lang.String">
          <content>versionProcessAttribution</content>
        </callableElementVersion>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="visaDernierModificateur" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="4209553655241000437" interpreter="" name="visaPreferentiel" returnType="java.lang.String">
            <content>visaPreferentiel</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="visaDossierReserve" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="3686404041769598143" interpreter="" name="visaDossierReserve" returnType="java.lang.String">
            <content>visaDossierReserve</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="numeroTiers" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="1973619144507148516" interpreter="" name="numeroTiers" returnType="java.lang.Integer">
            <content>numeroTiers</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="periodeFiscale" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="3314029832255684243" interpreter="" name="periodeFiscale" returnType="java.lang.Integer">
            <content>periodeFiscale</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="typeImpot" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="4365384227867177826" interpreter="" name="typeImpot" returnType="java.lang.String">
            <content>typeImpot</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="numeroOid" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="2393318661520376676" interpreter="" name="numeroOid" returnType="java.lang.Integer">
            <content>numeroOid</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="documentSousType" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="5549619245670776630" interpreter="" name="documentSousType" returnType="java.lang.String">
            <content>documentSousType</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="documentType" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="164057442746646888" interpreter="" name="documentType" returnType="java.lang.String">
            <content>documentType</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="typeTaxation" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="1321883117307672747" interpreter="" name="typeTaxation" returnType="java.lang.String">
            <content>typeTaxation</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="etatTaxation" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="1239693570068269894" interpreter="" name="etatTaxation" returnType="java.lang.String">
            <content>etatTaxation</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="codeSegment" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="1541133503836568647" interpreter="" name="codeSegment" returnType="java.lang.String">
            <content>codeSegment</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="releveFiscalBancaire" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="6018634316917620046" interpreter="" name="releveFiscalBancaire" returnType="java.lang.Boolean">
            <content>releveFiscalBancaire</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="controleIA" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="7477694525916691606" interpreter="" name="controleIA" returnType="java.lang.Boolean">
            <content>controleIA</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="doublonTypeTaxation" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="44067421932728543" interpreter="" name="doublonTypeTaxation" returnType="java.lang.String">
            <content>doublonTypeTaxation</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="assujettissement360" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="1915368699344996740" interpreter="" name="assujettissement360" returnType="java.lang.Boolean">
            <content>assujettissement360</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="contribuableSourcierMixte" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="5151748211895716778" interpreter="" name="contribuableSourcierMixte" returnType="java.lang.Boolean">
            <content>contribuableSourcierMixte</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="dateDeces" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="4134482692481893843" interpreter="" name="dateDeces" returnType="java.lang.Integer">
            <content>dateDeces</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="typeAssujettissement" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="4495745109997668991" interpreter="" name="typeAssujettissement" returnType="java.lang.String">
            <content>typeAssujettissement</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="collaborateur" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="588276695043127912" interpreter="" name="collaborateur" returnType="java.lang.Boolean">
            <content>collaborateur</content>
          </rightOperand>
        </dataInputOperation>
        <dataInputOperation operatorType="ASSIGNMENT">
          <leftOperand name="heritage" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="3746710733162695767" interpreter="" name="heritage" returnType="java.lang.Boolean">
            <content>heritage</content>
          </rightOperand>
        </dataInputOperation>
        <contractInputs/>
        <dataOutputOperation operatorType="ASSIGNMENT">
          <leftOperand name="groupeCandidatTraitement" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="4982900381404577841" name="groupeCandidat" returnType="java.lang.String">
            <content>groupeCandidat</content>
          </rightOperand>
        </dataOutputOperation>
        <dataOutputOperation operatorType="ASSIGNMENT">
          <leftOperand name="utilisateurTraitementMetierId" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="7448193181565930348" name="utilisateurTraitementMetierId" returnType="java.lang.Long">
            <content>utilisateurTraitementMetierId</content>
          </rightOperand>
        </dataOutputOperation>
        <dataOutputOperation operatorType="ASSIGNMENT">
          <leftOperand name="poidsTacheTraitementMetier" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="6726996793102875637" name="poidsTache" returnType="java.lang.Float">
            <content>poidsTache</content>
          </rightOperand>
        </dataOutputOperation>
        <dataOutputOperation operatorType="ASSIGNMENT">
          <leftOperand name="typeTacheTraitementMetier" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="6797782606842738893" name="typeTache" returnType="java.lang.String">
            <content>typeTache</content>
          </rightOperand>
        </dataOutputOperation>
        <dataOutputOperation operatorType="ASSIGNMENT">
          <leftOperand name="regleAttribution" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="8106253774540094605" name="regleAttribution" returnType="java.lang.String">
            <content>regleAttribution</content>
          </rightOperand>
        </dataOutputOperation>
        <dataOutputOperation operatorType="ASSIGNMENT">
          <leftOperand name="contextTache" type="DATA"/>
          <rightOperand expressionType="TYPE_VARIABLE" id="4176379059520162480" name="contextTache" returnType="java.lang.String">
            <content>contextTache</content>
          </rightOperand>
        </dataOutputOperation>
      </callActivity>
      <automaticTask id="4739514639975361350" name="Cloture Auto">
        <incomingTransition idref="1356235213769848147"/>
        <outgoingTransition idref="526737323967399420"/>
        <connector activationEvent="ON_FINISH" connectorId="HistoriqueDperm" failAction="FAIL" name="histoPasCreationTache" version="2.1.1">
          <inputs>
            <input name="evtProcessus">
              <expression expressionType="TYPE_CONSTANT" id="8661954687483397393" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="visaUtilisateur">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="3032423801056508473" interpreter="GROOVY" name="visa.utilisateur.technique" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("visa.utilisateur.technique");</content>
              </expression>
            </input>
            <input name="codeOperation">
              <expression expressionType="TYPE_CONSTANT" id="2695531605012755770" interpreter="" name="TRAITEMENT_MET_PAS_CREATE_TACHE" returnType="java.lang.String">
                <content>TRAITEMENT_MET_PAS_CREATE_TACHE</content>
              </expression>
            </input>
            <input name="evtTache">
              <expression expressionType="TYPE_CONSTANT" id="843450163682034028" interpreter="" name="false" returnType="java.lang.Boolean">
                <content>false</content>
              </expression>
            </input>
            <input name="identifiantSupervision">
              <expression expressionType="TYPE_VARIABLE" id="690118047933446295" interpreter="" name="identifiantSupervision" returnType="java.lang.String">
                <content>identifiantSupervision</content>
              </expression>
            </input>
            <input name="identifiantRepelec">
              <expression expressionType="TYPE_VARIABLE" id="4143207785584412611" interpreter="" name="identifiantRepertoireElectronique" returnType="java.lang.String">
                <content>identifiantRepertoireElectronique</content>
              </expression>
            </input>
            <input name="historique">
              <expression expressionType="TYPE_CONSTANT" id="8847491274193519544" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="caracteristiques">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="2738312491728025694" interpreter="GROOVY" name="map" returnType="java.util.Map">
                <content>["documentType":documentType,

	"documentSousType":documentSousType,

	"periodeFiscale":periodeFiscale,

	"montant":montant,

	"dateReception":dateReceptionDocument,

	"numeroContribuable":numeroTiers,

	"nomPrenoms":nomPrenoms,

	"numeroAVS13":numeroAVS13,

	"dateNaissance":dateNaissance,

	"numeroOid" : numeroOid,

	"support":support]

</content>
                <expression expressionType="TYPE_VARIABLE" id="203417114393920693" name="numeroOid" returnType="java.lang.Integer">
                  <content>numeroOid</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="9033902564373214828" name="documentSousType" returnType="java.lang.String">
                  <content>documentSousType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="8952988014658865706" name="documentType" returnType="java.lang.String">
                  <content>documentType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5986019079762693653" name="dateReceptionDocument" returnType="java.util.Date">
                  <content>dateReceptionDocument</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2804020856272798796" name="nomPrenoms" returnType="java.lang.String">
                  <content>nomPrenoms</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5244729050935086648" name="support" returnType="java.lang.String">
                  <content>support</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="934011895004807638" name="montant" returnType="java.lang.Double">
                  <content>montant</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2262137022597712183" name="dateNaissance" returnType="java.lang.Integer">
                  <content>dateNaissance</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="3587765490547968983" name="numeroTiers" returnType="java.lang.Integer">
                  <content>numeroTiers</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="524432520765063694" name="numeroAVS13" returnType="java.lang.Long">
                  <content>numeroAVS13</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="6849307268261105405" name="periodeFiscale" returnType="java.lang.Integer">
                  <content>periodeFiscale</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <dataDefinitions/>
        <operations/>
        <boundaryEvents/>
      </automaticTask>
      <userTask actorName="Taxateur DI" description="Traitement DI" expectedDuration="3600000" id="6487088907925167142" name="Traitement DI" priority="NORMAL">
        <displayDescription expressionType="TYPE_READ_ONLY_SCRIPT" id="5217049826777280929" interpreter="GROOVY" name="description" returnType="java.lang.String">
          <content>numeroTiers+"/"+periodeFiscale+"/"+montant+"/"+nomPrenoms</content>
          <expression expressionType="TYPE_VARIABLE" id="7812066500779002729" name="nomPrenoms" returnType="java.lang.String">
            <content>nomPrenoms</content>
          </expression>
          <expression expressionType="TYPE_VARIABLE" id="3781241632444663393" name="montant" returnType="java.lang.Double">
            <content>montant</content>
          </expression>
          <expression expressionType="TYPE_VARIABLE" id="6300754490970949643" name="numeroTiers" returnType="java.lang.Integer">
            <content>numeroTiers</content>
          </expression>
          <expression expressionType="TYPE_VARIABLE" id="2194937615953343853" name="periodeFiscale" returnType="java.lang.Integer">
            <content>periodeFiscale</content>
          </expression>
        </displayDescription>
        <incomingTransition idref="271778176439270517"/>
        <outgoingTransition idref="4625457961217049354"/>
        <connector activationEvent="ON_ENTER" connectorId="scripting-groovy" failAction="FAIL" name="setBusinessId" version="1.0.1">
          <inputs>
            <input name="script">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="1316728736076808300" interpreter="GROOVY" name="setActivityId" returnType="java.lang.Object">
                <content>traitementDiTaskBusinessId != null ? traitementDiTaskBusinessId : activityInstanceId</content>
                <expression expressionType="TYPE_ENGINE_CONSTANT" id="2123880150329870740" interpreter="" name="activityInstanceId" returnType="java.lang.Long">
                  <content>activityInstanceId</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="6605233387035472343" name="traitementDiTaskBusinessId" returnType="java.lang.Long">
                  <content>traitementDiTaskBusinessId</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="taskBusinessId" type="DATA"/>
              <rightOperand expressionType="TYPE_INPUT" id="8763055287762110756" interpreter="" name="result" returnType="java.lang.Object">
                <content>result</content>
              </rightOperand>
            </operation>
          </outputs>
        </connector>
        <connector activationEvent="ON_ENTER" connectorId="scripting-groovy" failAction="FAIL" name="setAssigneeIfAvailable" version="1.0.1">
          <inputs>
            <input name="script">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="5548855496260566700" interpreter="GROOVY" name="setAssignee" returnType="java.lang.Object">
                <content>import java.util.logging.Logger;

if(utilisateurTraitementMetierId) {
	try {
		apiAccessor.getProcessAPI().assignUserTask(activityInstanceId, utilisateurTraitementMetierId)
	} catch (org.bonitasoft.engine.identity.UserNotFoundException ex) {
		Logger.getAnonymousLogger().info("user "+utilisateurTraitementMetierId+" not found.")
	}
}</content>
                <expression expressionType="TYPE_ENGINE_CONSTANT" id="111685099124013805" interpreter="" name="apiAccessor" returnType="com.bonitasoft.engine.api.APIAccessor">
                  <content>apiAccessor</content>
                </expression>
                <expression expressionType="TYPE_ENGINE_CONSTANT" id="7202759292661221841" interpreter="" name="activityInstanceId" returnType="java.lang.Long">
                  <content>activityInstanceId</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="1585353994997219355" name="utilisateurTraitementMetierId" returnType="java.lang.Long">
                  <content>utilisateurTraitementMetierId</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <connector activationEvent="ON_ENTER" connectorId="EvtTacheDperm" failAction="FAIL" name="creationTache" version="1.2.0">
          <inputs>
            <input name="note">
              <expression expressionType="TYPE_VARIABLE" id="305948443860251746" interpreter="" name="noteContenu" returnType="java.lang.String">
                <content>noteContenu</content>
              </expression>
            </input>
            <input name="numeroOid">
              <expression expressionType="TYPE_VARIABLE" id="3180339105494549563" interpreter="" name="numeroOid" returnType="java.lang.Integer">
                <content>numeroOid</content>
              </expression>
            </input>
            <input name="numeroTiers">
              <expression expressionType="TYPE_VARIABLE" id="4702954271067096547" interpreter="" name="numeroTiers" returnType="java.lang.Integer">
                <content>numeroTiers</content>
              </expression>
            </input>
            <input name="esbDestinationHistorique">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="2800929753815664247" interpreter="GROOVY" name="esb.destinationHistorique" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.destinationHistorique");</content>
              </expression>
            </input>
            <input name="esbDomaine">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="4964227521010644084" interpreter="GROOVY" name="esb.domain" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.domain");</content>
              </expression>
            </input>
            <input name="identifiantSupervision">
              <expression expressionType="TYPE_VARIABLE" id="8431515443643042997" interpreter="" name="identifiantSupervision" returnType="java.lang.String">
                <content>identifiantSupervision</content>
              </expression>
            </input>
            <input name="typeTache">
              <expression expressionType="TYPE_VARIABLE" id="536327025787581166" interpreter="" name="typeTache" returnType="java.lang.String">
                <content>typeTache</content>
              </expression>
            </input>
            <input name="jmsConnectionFactory">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="3219488048242540143" interpreter="GROOVY" name="esb.jms.connectionFactory" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.jms.connectionFactory");</content>
              </expression>
            </input>
            <input name="montant">
              <expression expressionType="TYPE_VARIABLE" id="5456277252591104293" interpreter="" name="montant" returnType="java.lang.Double">
                <content>montant</content>
              </expression>
            </input>
            <input name="horodatageReception">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="7750593310613812874" interpreter="GROOVY" name="dateReceptionMs" returnType="java.lang.Long">
                <content>dateReceptionDocument != null ? dateReceptionDocument.getTime() : null</content>
                <expression expressionType="TYPE_VARIABLE" id="4729957886385896144" name="dateReceptionDocument" returnType="java.util.Date">
                  <content>dateReceptionDocument</content>
                </expression>
              </expression>
            </input>
            <input name="numeroAvs13">
              <expression expressionType="TYPE_VARIABLE" id="6589771426919237334" interpreter="" name="numeroAVS13" returnType="java.lang.Long">
                <content>numeroAVS13</content>
              </expression>
            </input>
            <input name="sousTypeDocument">
              <expression expressionType="TYPE_VARIABLE" id="2997794419403671650" interpreter="" name="documentSousType" returnType="java.lang.String">
                <content>documentSousType</content>
              </expression>
            </input>
            <input name="periodeFiscale">
              <expression expressionType="TYPE_VARIABLE" id="5846983006759270098" interpreter="" name="periodeFiscale" returnType="java.lang.Integer">
                <content>periodeFiscale</content>
              </expression>
            </input>
            <input name="codeApplication">
              <expression expressionType="TYPE_CONSTANT" id="158293750307243497" interpreter="" name="BPMS" returnType="java.lang.String">
                <content>BPMS</content>
              </expression>
            </input>
            <input name="esbApplication">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="1823589864361999950" interpreter="GROOVY" name="esb.application" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.application");</content>
              </expression>
            </input>
            <input name="typeDocument">
              <expression expressionType="TYPE_VARIABLE" id="2419340276187613030" interpreter="" name="documentType" returnType="java.lang.String">
                <content>documentType</content>
              </expression>
            </input>
            <input name="visaUtilisateurSource">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="3953144955604939412" interpreter="GROOVY" name="visa.utilisateur.technique" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("visa.utilisateur.technique");</content>
              </expression>
            </input>
            <input name="identifiantTache">
              <expression expressionType="TYPE_VARIABLE" id="6696679866786036422" interpreter="" name="taskBusinessId" returnType="java.lang.Long">
                <content>taskBusinessId</content>
              </expression>
            </input>
            <input name="nomPrenom">
              <expression expressionType="TYPE_VARIABLE" id="4164704861483320214" interpreter="" name="nomPrenoms" returnType="java.lang.String">
                <content>nomPrenoms</content>
              </expression>
            </input>
            <input name="idRepelec">
              <expression expressionType="TYPE_VARIABLE" id="3519767124952237647" interpreter="" name="identifiantRepertoireElectronique" returnType="java.lang.String">
                <content>identifiantRepertoireElectronique</content>
              </expression>
            </input>
            <input name="actionTache">
              <expression expressionType="TYPE_CONSTANT" id="5358668015426486998" interpreter="" name="CREATION" returnType="java.lang.String">
                <content>CREATION</content>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <connector activationEvent="ON_ENTER" connectorId="EvtTacheDperm" failAction="FAIL" name="HistoAttributionDI" version="1.2.0">
          <inputs>
            <input name="note">
              <expression expressionType="TYPE_VARIABLE" id="4028748330184783153" interpreter="" name="noteContenu" returnType="java.lang.String">
                <content>noteContenu</content>
              </expression>
            </input>
            <input name="numeroOid">
              <expression expressionType="TYPE_VARIABLE" id="8904922028262508581" interpreter="" name="numeroOid" returnType="java.lang.Integer">
                <content>numeroOid</content>
              </expression>
            </input>
            <input name="numeroTiers">
              <expression expressionType="TYPE_VARIABLE" id="2347496106969746406" interpreter="" name="numeroTiers" returnType="java.lang.Integer">
                <content>numeroTiers</content>
              </expression>
            </input>
            <input name="esbDestinationHistorique">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="6883373005029881558" interpreter="GROOVY" name="esb.destinationHistorique" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.destinationHistorique");</content>
              </expression>
            </input>
            <input name="esbDomaine">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="5427561017850443381" interpreter="GROOVY" name="esb.domain" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.domain");</content>
              </expression>
            </input>
            <input name="identifiantSupervision">
              <expression expressionType="TYPE_VARIABLE" id="1581069284304899003" interpreter="" name="identifiantSupervision" returnType="java.lang.String">
                <content>identifiantSupervision</content>
              </expression>
            </input>
            <input name="typeTache">
              <expression expressionType="TYPE_VARIABLE" id="7329341412296013124" interpreter="" name="typeTacheTraitementMetier" returnType="java.lang.String">
                <content>typeTacheTraitementMetier</content>
              </expression>
            </input>
            <input name="jmsConnectionFactory">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="3055755999745753300" interpreter="GROOVY" name="esb.jms.connectionFactory" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.jms.connectionFactory");</content>
              </expression>
            </input>
            <input name="montant">
              <expression expressionType="TYPE_VARIABLE" id="1137455864211261239" interpreter="" name="montant" returnType="java.lang.Double">
                <content>montant</content>
              </expression>
            </input>
            <input name="horodatageReception">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="5800431241271425415" interpreter="GROOVY" name="dateMs" returnType="java.lang.Long">
                <content>dateReceptionDocument != null ? dateReceptionDocument.getTime() : null</content>
                <expression expressionType="TYPE_VARIABLE" id="5531274607628432939" name="dateReceptionDocument" returnType="java.util.Date">
                  <content>dateReceptionDocument</content>
                </expression>
              </expression>
            </input>
            <input name="numeroAvs13">
              <expression expressionType="TYPE_VARIABLE" id="3453539163188019111" interpreter="" name="numeroAVS13" returnType="java.lang.Long">
                <content>numeroAVS13</content>
              </expression>
            </input>
            <input name="visaUtilisateurCible">
              <expression expressionType="TYPE_VARIABLE" id="8590333163622125021" interpreter="" name="visaUtilisateurTache" returnType="java.lang.String">
                <content>visaUtilisateurTache</content>
              </expression>
            </input>
            <input name="sousTypeDocument">
              <expression expressionType="TYPE_VARIABLE" id="8902177448999734048" interpreter="" name="documentSousType" returnType="java.lang.String">
                <content>documentSousType</content>
              </expression>
            </input>
            <input name="periodeFiscale">
              <expression expressionType="TYPE_VARIABLE" id="5653953221264166773" interpreter="" name="periodeFiscale" returnType="java.lang.Integer">
                <content>periodeFiscale</content>
              </expression>
            </input>
            <input name="codeApplication">
              <expression expressionType="TYPE_CONSTANT" id="4330057127554598868" interpreter="" name="BPMS" returnType="java.lang.String">
                <content>BPMS</content>
              </expression>
            </input>
            <input name="esbApplication">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="333174297572034048" interpreter="GROOVY" name="esb.application" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.application");</content>
              </expression>
            </input>
            <input name="typeDocument">
              <expression expressionType="TYPE_VARIABLE" id="2083779717314623946" interpreter="" name="documentType" returnType="java.lang.String">
                <content>documentType</content>
              </expression>
            </input>
            <input name="codePotCible">
              <expression expressionType="TYPE_VARIABLE" id="6875481399234217356" interpreter="" name="groupeCandidatTraitement" returnType="java.lang.String">
                <content>groupeCandidatTraitement</content>
              </expression>
            </input>
            <input name="visaUtilisateurSource">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="8369920052415774938" interpreter="GROOVY" name="visa.utilisateur.technique" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("visa.utilisateur.technique");</content>
              </expression>
            </input>
            <input name="identifiantTache">
              <expression expressionType="TYPE_VARIABLE" id="7569715452785636392" interpreter="" name="taskBusinessId" returnType="java.lang.Long">
                <content>taskBusinessId</content>
              </expression>
            </input>
            <input name="nomPrenom">
              <expression expressionType="TYPE_VARIABLE" id="7010807450556843067" interpreter="" name="nomPrenoms" returnType="java.lang.String">
                <content>nomPrenoms</content>
              </expression>
            </input>
            <input name="idRepelec">
              <expression expressionType="TYPE_VARIABLE" id="918017398355611214" interpreter="" name="identifiantRepertoireElectronique" returnType="java.lang.String">
                <content>identifiantRepertoireElectronique</content>
              </expression>
            </input>
            <input name="actionTache">
              <expression expressionType="TYPE_CONSTANT" id="2547556057303699375" interpreter="" name="ATTRIBUTION" returnType="java.lang.String">
                <content>ATTRIBUTION</content>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <connector activationEvent="ON_FINISH" connectorId="HumanTaskRemoveIndex" failAction="FAIL" name="unindex" version="1.0.0">
          <inputs/>
          <outputs/>
        </connector>
        <connector activationEvent="ON_ENTER" connectorId="humanTaskAddToIndex" failAction="FAIL" name="index" version="1.1.0">
          <inputs>
            <input name="processDataNames">
              <expression expressionType="TYPE_CONSTANT" id="2424816482702768034" interpreter="" name="dateNaissance,identifiantRepertoireElectronique,identifiantSupervision,montant,nomPrenoms,npa,numeroTiers,pays,periodeFiscale,documentSousType,documentType,numeroAVS13,numeroOid,contextTache" returnType="java.lang.String">
                <content>dateNaissance,identifiantRepertoireElectronique,identifiantSupervision,montant,nomPrenoms,npa,numeroTiers,pays,periodeFiscale,documentSousType,documentType,numeroAVS13,numeroOid,contextTache</content>
              </expression>
            </input>
            <input name="taskDataNames">
              <expression expressionType="TYPE_CONSTANT" id="8752384344430262604" interpreter="" name="dateReception,groupeCandidat,hasNote,poidsTache,taskAssigned,taskRead,typeTache,nomPrenomsFiltered,noteContenu,etapeManuelle" returnType="java.lang.String">
                <content>dateReception,groupeCandidat,hasNote,poidsTache,taskAssigned,taskRead,typeTache,nomPrenomsFiltered,noteContenu,etapeManuelle</content>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <connector activationEvent="ON_FINISH" connectorId="EvtTacheDperm" failAction="FAIL" name="HistoClotureManuelle" version="1.2.0">
          <inputs>
            <input name="note">
              <expression expressionType="TYPE_VARIABLE" id="1301706497104524657" interpreter="" name="noteContenu" returnType="java.lang.String">
                <content>noteContenu</content>
              </expression>
            </input>
            <input name="numeroOid">
              <expression expressionType="TYPE_VARIABLE" id="236553085699666938" interpreter="" name="numeroOid" returnType="java.lang.Integer">
                <content>numeroOid</content>
              </expression>
            </input>
            <input name="numeroTiers">
              <expression expressionType="TYPE_VARIABLE" id="3671643752469055635" interpreter="" name="numeroTiers" returnType="java.lang.Integer">
                <content>numeroTiers</content>
              </expression>
            </input>
            <input name="esbDestinationHistorique">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="7932384511322508191" interpreter="GROOVY" name="esb.destinationHistorique" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.destinationHistorique");</content>
              </expression>
            </input>
            <input name="esbDomaine">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="6756751285655157894" interpreter="GROOVY" name="esb.domain" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.domain");</content>
              </expression>
            </input>
            <input name="identifiantSupervision">
              <expression expressionType="TYPE_VARIABLE" id="2521363503396729217" interpreter="" name="identifiantSupervision" returnType="java.lang.String">
                <content>identifiantSupervision</content>
              </expression>
            </input>
            <input name="typeTache">
              <expression expressionType="TYPE_VARIABLE" id="5397550000110679488" interpreter="" name="typeTacheTraitementMetier" returnType="java.lang.String">
                <content>typeTacheTraitementMetier</content>
              </expression>
            </input>
            <input name="jmsConnectionFactory">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="6807085954678632610" interpreter="GROOVY" name="esb.jms.connectionFactory" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.jms.connectionFactory");</content>
              </expression>
            </input>
            <input name="montant">
              <expression expressionType="TYPE_VARIABLE" id="1414357434860224163" interpreter="" name="montant" returnType="java.lang.Double">
                <content>montant</content>
              </expression>
            </input>
            <input name="horodatageReception">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="3270802538836214638" interpreter="GROOVY" name="dateReceptionMs" returnType="java.lang.Long">
                <content>dateReceptionDocument != null ? dateReceptionDocument.getTime() : null</content>
                <expression expressionType="TYPE_VARIABLE" id="3289883507372832665" name="dateReceptionDocument" returnType="java.util.Date">
                  <content>dateReceptionDocument</content>
                </expression>
              </expression>
            </input>
            <input name="numeroAvs13">
              <expression expressionType="TYPE_VARIABLE" id="7066352875850806855" interpreter="" name="numeroAVS13" returnType="java.lang.Long">
                <content>numeroAVS13</content>
              </expression>
            </input>
            <input name="visaUtilisateurCible">
              <expression expressionType="TYPE_VARIABLE" id="1709363013335205284" interpreter="" name="visaUtilisateurTache" returnType="java.lang.String">
                <content>visaUtilisateurTache</content>
              </expression>
            </input>
            <input name="sousTypeDocument">
              <expression expressionType="TYPE_VARIABLE" id="9108532871021480796" interpreter="" name="documentSousType" returnType="java.lang.String">
                <content>documentSousType</content>
              </expression>
            </input>
            <input name="periodeFiscale">
              <expression expressionType="TYPE_VARIABLE" id="6717665699976560220" interpreter="" name="periodeFiscale" returnType="java.lang.Integer">
                <content>periodeFiscale</content>
              </expression>
            </input>
            <input name="codeApplication">
              <expression expressionType="TYPE_CONSTANT" id="6686744916760114641" interpreter="" name="BPMS" returnType="java.lang.String">
                <content>BPMS</content>
              </expression>
            </input>
            <input name="esbApplication">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="8598534135342842089" interpreter="GROOVY" name="esb.application" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.application");</content>
              </expression>
            </input>
            <input name="typeDocument">
              <expression expressionType="TYPE_VARIABLE" id="2100132545851536828" interpreter="" name="documentType" returnType="java.lang.String">
                <content>documentType</content>
              </expression>
            </input>
            <input name="visaUtilisateurSource">
              <expression expressionType="TYPE_VARIABLE" id="5418921683275106513" interpreter="" name="visaUtilisateurTache" returnType="java.lang.String">
                <content>visaUtilisateurTache</content>
              </expression>
            </input>
            <input name="identifiantTache">
              <expression expressionType="TYPE_VARIABLE" id="3676132316786179513" interpreter="" name="taskBusinessId" returnType="java.lang.Long">
                <content>taskBusinessId</content>
              </expression>
            </input>
            <input name="nomPrenom">
              <expression expressionType="TYPE_VARIABLE" id="7117147473152655533" interpreter="" name="nomPrenoms" returnType="java.lang.String">
                <content>nomPrenoms</content>
              </expression>
            </input>
            <input name="idRepelec">
              <expression expressionType="TYPE_VARIABLE" id="7541323774121822745" interpreter="" name="identifiantRepertoireElectronique" returnType="java.lang.String">
                <content>identifiantRepertoireElectronique</content>
              </expression>
            </input>
            <input name="actionTache">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="265486903388060337" interpreter="GROOVY" name="CLOTURE" returnType="java.lang.String">
                <content>if(codeSortie=="Traiter") return "TRAITEMENT"

else return "CLOTURE"</content>
                <expression expressionType="TYPE_VARIABLE" id="6489057143843827840" name="codeSortie" returnType="java.lang.String">
                  <content>codeSortie</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <dataDefinitions>
          <dataDefinition className="java.lang.Boolean" name="taskRead" transient="false">
            <defaultValue expressionType="TYPE_CONSTANT" id="1988780189607703901" interpreter="" name="false" returnType="java.lang.Boolean">
              <content>false</content>
            </defaultValue>
          </dataDefinition>
          <textDataDefinition className="java.lang.String" longText="true" name="typeTache" transient="false">
            <defaultValue expressionType="TYPE_VARIABLE" id="3360292311305110767" interpreter="" name="typeTacheTraitementMetier" returnType="java.lang.String">
              <content>typeTacheTraitementMetier</content>
            </defaultValue>
          </textDataDefinition>
          <textDataDefinition className="java.lang.String" longText="true" name="groupeCandidat" transient="false">
            <defaultValue expressionType="TYPE_VARIABLE" id="1461482403616801308" interpreter="" name="groupeCandidatTraitement" returnType="java.lang.String">
              <content>groupeCandidatTraitement</content>
            </defaultValue>
          </textDataDefinition>
          <textDataDefinition className="java.lang.String" longText="true" name="codeSortieTache" transient="false"/>
          <textDataDefinition className="java.lang.String" longText="true" name="motif" transient="false"/>
          <textDataDefinition className="java.lang.String" longText="true" name="noteContenu" transient="false">
            <defaultValue expressionType="TYPE_VARIABLE" id="1712659106179300997" interpreter="" name="note" returnType="java.lang.String">
              <content>note</content>
            </defaultValue>
          </textDataDefinition>
          <dataDefinition className="java.lang.Boolean" name="hasNote" transient="false">
            <defaultValue expressionType="TYPE_READ_ONLY_SCRIPT" id="756396152061315016" interpreter="GROOVY" name="noteNull" returnType="java.lang.Boolean">
              <content>note as boolean</content>
              <expression expressionType="TYPE_VARIABLE" id="4364892564860287386" name="note" returnType="java.lang.String">
                <content>note</content>
              </expression>
            </defaultValue>
          </dataDefinition>
          <dataDefinition className="java.lang.Float" name="poidsTache" transient="false">
            <defaultValue expressionType="TYPE_VARIABLE" id="2915614978277357378" interpreter="" name="poidsTacheTraitementMetier" returnType="java.lang.Float">
              <content>poidsTacheTraitementMetier</content>
            </defaultValue>
          </dataDefinition>
          <textDataDefinition className="java.lang.String" longText="true" name="nomPrenomsFiltered" transient="false">
            <defaultValue expressionType="TYPE_READ_ONLY_SCRIPT" id="8391405900252661395" interpreter="GROOVY" name="accentHelper" returnType="java.lang.String">
              <content>import ch.vd.bpm.dperm.util.RemoveAccentHelper
return RemoveAccentHelper.removeAccents(nomPrenoms)</content>
              <expression expressionType="TYPE_VARIABLE" id="2501098809518831754" name="nomPrenoms" returnType="java.lang.String">
                <content>nomPrenoms</content>
              </expression>
            </defaultValue>
          </textDataDefinition>
          <dataDefinition className="java.lang.Boolean" name="taskAttributedByQuota" transient="false">
            <defaultValue expressionType="TYPE_CONSTANT" id="5042727022866809702" interpreter="" name="false" returnType="java.lang.Boolean">
              <content>false</content>
            </defaultValue>
          </dataDefinition>
          <dataDefinition className="java.util.Date" name="dateReception" transient="false">
            <defaultValue expressionType="TYPE_VARIABLE" id="3230272209492918305" interpreter="" name="dateReceptionDocument" returnType="java.util.Date">
              <content>dateReceptionDocument</content>
            </defaultValue>
          </dataDefinition>
          <dataDefinition className="java.lang.Long" name="taskBusinessId" transient="false"/>
          <textDataDefinition className="java.lang.String" longText="true" name="etapeManuelle" transient="false">
            <defaultValue expressionType="TYPE_CONSTANT" id="7636097745393372275" interpreter="" name="TRAITEMENT_METIER" returnType="java.lang.String">
              <content>TRAITEMENT_METIER</content>
            </defaultValue>
          </textDataDefinition>
          <textDataDefinition className="java.lang.String" longText="true" name="etatAvancement" transient="false"/>
          <dataDefinition className="java.lang.Long" name="version" transient="false">
            <defaultValue expressionType="TYPE_CONSTANT" id="3494790788469573810" interpreter="" name="1" returnType="java.lang.Long">
              <content>1</content>
            </defaultValue>
          </dataDefinition>
        </dataDefinitions>
        <operations>
          <operation operatorType="ASSIGNMENT">
            <leftOperand name="codeSortie" type="DATA"/>
            <rightOperand expressionType="TYPE_VARIABLE" id="681855633907366208" interpreter="" name="codeSortieTache" returnType="java.lang.String">
              <content>codeSortieTache</content>
            </rightOperand>
          </operation>
          <operation operatorType="ASSIGNMENT">
            <leftOperand name="motifSortie" type="DATA"/>
            <rightOperand expressionType="TYPE_VARIABLE" id="2373271488886781220" interpreter="" name="motif" returnType="java.lang.String">
              <content>motif</content>
            </rightOperand>
          </operation>
          <operation operatorType="ASSIGNMENT">
            <leftOperand name="utilisateurTraitementMetierId" type="DATA"/>
            <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="7967588519586451228" interpreter="GROOVY" name="taskAssigneeId" returnType="java.lang.Long">
              <content>taskAssigneeId</content>
              <expression expressionType="TYPE_ENGINE_CONSTANT" id="5345060567631115690" interpreter="" name="taskAssigneeId" returnType="java.lang.Long">
                <content>taskAssigneeId</content>
              </expression>
            </rightOperand>
          </operation>
          <operation operatorType="ASSIGNMENT">
            <leftOperand name="typeTacheTraitementMetier" type="DATA"/>
            <rightOperand expressionType="TYPE_VARIABLE" id="7373385358240035339" interpreter="" name="typeTache" returnType="java.lang.String">
              <content>typeTache</content>
            </rightOperand>
          </operation>
          <operation operatorType="ASSIGNMENT">
            <leftOperand name="groupeCandidatTraitement" type="DATA"/>
            <rightOperand expressionType="TYPE_VARIABLE" id="132032365973125568" interpreter="" name="groupeCandidat" returnType="java.lang.String">
              <content>groupeCandidat</content>
            </rightOperand>
          </operation>
          <operation operatorType="ASSIGNMENT">
            <leftOperand name="visaUtilisateurTache" type="DATA"/>
            <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="8929036610731919718" interpreter="GROOVY" name="visaUtilisateurTache" returnType="java.lang.String">
              <content>return taskAssigneeId&gt;0 ? apiAccessor.getIdentityAPI().getUser(taskAssigneeId).getUserName() : null

</content>
              <expression expressionType="TYPE_ENGINE_CONSTANT" id="7524926119182512361" interpreter="" name="taskAssigneeId" returnType="java.lang.Long">
                <content>taskAssigneeId</content>
              </expression>
              <expression expressionType="TYPE_ENGINE_CONSTANT" id="8108873414008914018" interpreter="" name="apiAccessor" returnType="com.bonitasoft.engine.api.APIAccessor">
                <content>apiAccessor</content>
              </expression>
            </rightOperand>
          </operation>
          <operation operatorType="ASSIGNMENT">
            <leftOperand name="note" type="DATA"/>
            <rightOperand expressionType="TYPE_VARIABLE" id="1590550608094344905" interpreter="" name="noteContenu" returnType="java.lang.String">
              <content>noteContenu</content>
            </rightOperand>
          </operation>
        </operations>
        <boundaryEvents/>
        <contract/>
        <context/>
      </userTask>
      <automaticTask id="6268203939006364973" name="Histo cloturée semiAuto">
        <incomingTransition idref="7430243821654358015"/>
        <outgoingTransition idref="2343250618851438681"/>
        <connector activationEvent="ON_FINISH" connectorId="HistoriqueDperm" failAction="FAIL" name="clotureTaxationSemiAuto" version="2.1.1">
          <inputs>
            <input name="evtProcessus">
              <expression expressionType="TYPE_CONSTANT" id="4341262795470489419" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="visaUtilisateur">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="1351815686518978536" interpreter="GROOVY" name="visa.utilisateur.technique" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("visa.utilisateur.technique");</content>
              </expression>
            </input>
            <input name="codeOperation">
              <expression expressionType="TYPE_CONSTANT" id="9102320149064469786" interpreter="" name="TRAITEMENT_MET_DOCUMENT_TAXE" returnType="java.lang.String">
                <content>TRAITEMENT_MET_DOCUMENT_TAXE</content>
              </expression>
            </input>
            <input name="evtTache">
              <expression expressionType="TYPE_CONSTANT" id="4687580607408260778" interpreter="" name="false" returnType="java.lang.Boolean">
                <content>false</content>
              </expression>
            </input>
            <input name="identifiantSupervision">
              <expression expressionType="TYPE_VARIABLE" id="2481470917202197942" interpreter="" name="identifiantSupervision" returnType="java.lang.String">
                <content>identifiantSupervision</content>
              </expression>
            </input>
            <input name="identifiantRepelec">
              <expression expressionType="TYPE_VARIABLE" id="3260688395713466123" interpreter="" name="identifiantRepertoireElectronique" returnType="java.lang.String">
                <content>identifiantRepertoireElectronique</content>
              </expression>
            </input>
            <input name="historique">
              <expression expressionType="TYPE_CONSTANT" id="3913711044463182792" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="caracteristiques">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="2681423957014789611" interpreter="GROOVY" name="map" returnType="java.util.Map">
                <content>["documentType":documentType,

	"documentSousType":documentSousType,

	"periodeFiscale":periodeFiscale,

	"montant":montant,

	"dateReception":dateReceptionDocument,

	"numeroTiersIdentifie":numeroTiers,

	"nomPrenoms":nomPrenoms,

	"numeroAVS13":numeroAVS13,

	"dateNaissance":dateNaissance,

	"numeroOid" : numeroOid,

	"support":support]</content>
                <expression expressionType="TYPE_VARIABLE" id="8632336478970396914" name="numeroOid" returnType="java.lang.Integer">
                  <content>numeroOid</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="8317281528004522231" name="documentSousType" returnType="java.lang.String">
                  <content>documentSousType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2031007315075972961" name="documentType" returnType="java.lang.String">
                  <content>documentType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="618693939000921846" name="dateReceptionDocument" returnType="java.util.Date">
                  <content>dateReceptionDocument</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="6621505505322354204" name="nomPrenoms" returnType="java.lang.String">
                  <content>nomPrenoms</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="4403141742566748193" name="support" returnType="java.lang.String">
                  <content>support</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="7530655262123639048" name="montant" returnType="java.lang.Double">
                  <content>montant</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="8324690273195766554" name="dateNaissance" returnType="java.lang.Integer">
                  <content>dateNaissance</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2873688599286232892" name="numeroTiers" returnType="java.lang.Integer">
                  <content>numeroTiers</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="8963534649047629394" name="numeroAVS13" returnType="java.lang.Long">
                  <content>numeroAVS13</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5156628342127609930" name="periodeFiscale" returnType="java.lang.Integer">
                  <content>periodeFiscale</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <dataDefinitions/>
        <operations/>
        <boundaryEvents/>
      </automaticTask>
      <automaticTask id="6073915969901455651" name="Histo cloture auto">
        <incomingTransition idref="2098319846097241480"/>
        <outgoingTransition idref="8858576414781127715"/>
        <connector activationEvent="ON_ENTER" connectorId="scripting-groovy" failAction="FAIL" name="taskBusineesID" version="1.0.1">
          <inputs>
            <input name="script">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="5912962335707250786" interpreter="GROOVY" name="taskBusinessId" returnType="java.lang.Object">
                <content>traitementDiTaskBusinessId != null ? traitementDiTaskBusinessId : activityInstanceId</content>
                <expression expressionType="TYPE_ENGINE_CONSTANT" id="7904610218653732588" interpreter="" name="activityInstanceId" returnType="java.lang.Long">
                  <content>activityInstanceId</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="9189491771360131902" name="traitementDiTaskBusinessId" returnType="java.lang.Long">
                  <content>traitementDiTaskBusinessId</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="taskBusinessId" type="DATA"/>
              <rightOperand expressionType="TYPE_INPUT" id="3439670082118961751" interpreter="" name="result" returnType="java.lang.Object">
                <content>result</content>
              </rightOperand>
            </operation>
          </outputs>
        </connector>
        <connector activationEvent="ON_FINISH" connectorId="HistoriqueDperm" failAction="FAIL" name="clotureTaxationAuto" version="2.1.1">
          <inputs>
            <input name="evtProcessus">
              <expression expressionType="TYPE_CONSTANT" id="2916368187104410661" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="visaUtilisateur">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="3359220628350876014" interpreter="GROOVY" name="visa.utilisateur.technique" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("visa.utilisateur.technique");</content>
              </expression>
            </input>
            <input name="codeOperation">
              <expression expressionType="TYPE_CONSTANT" id="1933433309198174217" interpreter="" name="TRAITEMENT_MET_DOCUMENT_TAXE" returnType="java.lang.String">
                <content>TRAITEMENT_MET_DOCUMENT_TAXE</content>
              </expression>
            </input>
            <input name="evtTache">
              <expression expressionType="TYPE_CONSTANT" id="8167464152221632519" interpreter="" name="false" returnType="java.lang.Boolean">
                <content>false</content>
              </expression>
            </input>
            <input name="identifiantSupervision">
              <expression expressionType="TYPE_VARIABLE" id="2555253904601169897" interpreter="" name="identifiantSupervision" returnType="java.lang.String">
                <content>identifiantSupervision</content>
              </expression>
            </input>
            <input name="identifiantRepelec">
              <expression expressionType="TYPE_VARIABLE" id="6670703207394853345" interpreter="" name="identifiantRepertoireElectronique" returnType="java.lang.String">
                <content>identifiantRepertoireElectronique</content>
              </expression>
            </input>
            <input name="historique">
              <expression expressionType="TYPE_CONSTANT" id="7754558929279338161" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="caracteristiques">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="5747411744057701193" interpreter="GROOVY" name="map" returnType="java.util.Map">
                <content>["documentType":documentType,

	"documentSousType":documentSousType,

	"periodeFiscale":periodeFiscale,

	"montant":montant,

	"dateReception":dateReceptionDocument,

	"numeroTiersIdentifie":numeroTiers,

	"nomPrenoms":nomPrenoms,

	"numeroAVS13":numeroAVS13,

	"dateNaissance":dateNaissance,

	"numeroOid" : numeroOid,

	"support":support]</content>
                <expression expressionType="TYPE_VARIABLE" id="6055239070831523585" name="numeroOid" returnType="java.lang.Integer">
                  <content>numeroOid</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="366783636482995874" name="documentSousType" returnType="java.lang.String">
                  <content>documentSousType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="4626594704250195047" name="documentType" returnType="java.lang.String">
                  <content>documentType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="4422371568372922753" name="dateReceptionDocument" returnType="java.util.Date">
                  <content>dateReceptionDocument</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="8045653971411815446" name="nomPrenoms" returnType="java.lang.String">
                  <content>nomPrenoms</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5180581254666171214" name="support" returnType="java.lang.String">
                  <content>support</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="1503878262087922710" name="montant" returnType="java.lang.Double">
                  <content>montant</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="1340052980156223016" name="dateNaissance" returnType="java.lang.Integer">
                  <content>dateNaissance</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="1870283721358459130" name="numeroTiers" returnType="java.lang.Integer">
                  <content>numeroTiers</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="447867370797120671" name="numeroAVS13" returnType="java.lang.Long">
                  <content>numeroAVS13</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2758165770189423619" name="periodeFiscale" returnType="java.lang.Integer">
                  <content>periodeFiscale</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <dataDefinitions>
          <dataDefinition className="java.lang.Long" name="taskBusinessId" transient="false"/>
        </dataDefinitions>
        <operations/>
        <boundaryEvents/>
      </automaticTask>
      <automaticTask id="8966411725253132454" name="Traiter Evt Batch cloture">
        <incomingTransition idref="1670908051585219535"/>
        <outgoingTransition idref="2192635491772023122"/>
        <connector activationEvent="ON_ENTER" connectorId="scripting-groovy" failAction="FAIL" name="getResultDi" version="1.0.1">
          <inputs>
            <input name="script">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="8049128213310062517" interpreter="GROOVY" name="getResultTaopp" returnType="java.lang.Object">
                <content>
import javax.xml.bind.DatatypeConverter;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.xpath.XPath;
import javax.xml.xpath.XPathFactory;

if(evtBatchType!="CLOTURE") {
	def xml = lastMessageContent.toURL().text
	
	def builder = DocumentBuilderFactory.newInstance().newDocumentBuilder()
	def doc     = builder.parse(lastMessageContent.toURL().openStream())
	XPath xPath =  XPathFactory.newInstance().newXPath();
	
	def traitementMetierTmp = xPath.evaluate("/quittanceIntegrationMetierDetails/traitementMetier/text()",doc)
	traitementMetierTmp = traitementMetierTmp != null ? DatatypeConverter.parseBoolean(traitementMetierTmp) : null
	
	def controleIATmp = DatatypeConverter.parseBoolean(xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/controleIA/text()",doc))
	def assujettissement360Tmp = DatatypeConverter.parseBoolean(xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/assujettissement/assujettissement360/text()",doc))
	def contribuableSourcierMixteTmp = DatatypeConverter.parseBoolean(xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/assujettissement/contribuableSourcierMixte/text()",doc))
	def releveFiscalBancaireTmp = DatatypeConverter.parseBoolean(xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/releveFiscalBancaire/text()",doc))
	
	def heritageTmp = xPath.evaluate("/quittanceIntegrationMetierDetails/heritage/text()",doc)
	heritageTmp = heritageTmp ? DatatypeConverter.parseBoolean(heritageTmp) : null
	
	def collaborateurTmp = xPath.evaluate("/quittanceIntegrationMetierDetails/collaborateur/text()",doc)
	collaborateurTmp = collaborateurTmp ? DatatypeConverter.parseBoolean(collaborateurTmp) : null
	
	return [
		'traitementMetier':traitementMetierTmp,
		'typeImpot':xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/typeImpot/text()",doc),
		'typeTaxation':xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/typeTaxation/text()",doc),
		'etatTaxation':xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/etatTaxation/text()",doc),
		'codeSegment':xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/codeSegment/text()",doc),
		'visaDossierReserve':xPath.evaluate("/quittanceIntegrationMetierDetails/visaDossierReserve/text()",doc),
		'visaPreferentiel':xPath.evaluate("/quittanceIntegrationMetierDetails/visaPreferentiel/text()",doc),
		'controleIA':controleIATmp,
		'doublonTypeTaxationPrecedente':xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/doublon/typeTaxationPrecedente/text()",doc),
		'assujettissement360':assujettissement360Tmp,
		'contribuableSourcierMixte':contribuableSourcierMixteTmp,
		'releveFiscalBancaire':releveFiscalBancaireTmp,
		'heritage':heritageTmp,
		'collaborateur':collaborateurTmp
	]
} else {
	return [
			'traitementMetier':null,
			'typeImpot':null,
			'typeTaxation':null,
			'etatTaxation':null,
			// attention il faut bien garder le codeSegment pour executer la bonne sortie
			'codeSegment':codeSegment,
			'visaDossierReserve':null,
			'visaPreferentiel':null,
			'controleIA':null,
			'doublonTypeTaxationPrecedente':null,
			'assujettissement360':null,
			'contribuableSourcierMixte':null,
			'releveFiscalBancaire':null,
			'heritage':null,
			'collaborateur':null
		]
}</content>
                <expression expressionType="TYPE_VARIABLE" id="7213603107763957870" name="evtBatchType" returnType="java.lang.String">
                  <content>evtBatchType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="4619002334324242840" name="codeSegment" returnType="java.lang.String">
                  <content>codeSegment</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5842971168390988007" name="lastMessageContent" returnType="java.lang.String">
                  <content>lastMessageContent</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="codeSegment" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="4935469934436401016" interpreter="GROOVY" name="result" returnType="java.lang.String">
                <content>result.codeSegment</content>
                <expression expressionType="TYPE_INPUT" id="5893145113213552295" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="4616715559098664796" name="codeSegment" returnType="java.lang.String">
                  <content>codeSegment</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="typeImpot" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="3135612317950655454" interpreter="GROOVY" name="resulttypeImpot" returnType="java.lang.String">
                <content>result.typeImpot</content>
                <expression expressionType="TYPE_INPUT" id="8372549870662367777" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="visaDossierReserve" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="8999856833949026309" interpreter="GROOVY" name="visaDossierReserve" returnType="java.lang.String">
                <content>result.visaDossierReserve</content>
                <expression expressionType="TYPE_INPUT" id="4013807953777868882" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2288332064859929419" name="visaDossierReserve" returnType="java.lang.String">
                  <content>visaDossierReserve</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="visaPreferentiel" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="8107004349101524326" interpreter="GROOVY" name="visaPreferentiel" returnType="java.lang.String">
                <content>result.visaPreferentiel</content>
                <expression expressionType="TYPE_INPUT" id="8284536301225228126" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="typeTaxation" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="81012705398573515" interpreter="GROOVY" name="getTypeTaxation" returnType="java.lang.String">
                <content>result.typeTaxation</content>
                <expression expressionType="TYPE_INPUT" id="8074460272209317346" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="etatTaxation" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="1612969095173485066" interpreter="GROOVY" name="getEtatTaxation" returnType="java.lang.String">
                <content>result.etatTaxation</content>
                <expression expressionType="TYPE_INPUT" id="8230431092683420060" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="controleIA" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="144989212995701579" interpreter="GROOVY" name="getControleIA" returnType="java.lang.Boolean">
                <content>result.controleIA</content>
                <expression expressionType="TYPE_INPUT" id="342312576881085672" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="releveFiscalBancaire" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="2906889851296695717" interpreter="GROOVY" name="getReleveFiscalBancaire" returnType="java.lang.Boolean">
                <content>result.releveFiscalBancaire</content>
                <expression expressionType="TYPE_INPUT" id="4103935250107679369" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="traitementMetier" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="8758251245981682078" interpreter="GROOVY" name="traitementMetier" returnType="java.lang.Boolean">
                <content>result.traitementMetier</content>
                <expression expressionType="TYPE_INPUT" id="6465643153815941287" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="collaborateur" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="5747979316748402626" interpreter="GROOVY" name="result.collaborateur" returnType="java.lang.Boolean">
                <content>result.collaborateur</content>
                <expression expressionType="TYPE_INPUT" id="5964526773094075491" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="heritage" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="4893202660964780341" interpreter="GROOVY" name="result.heritage" returnType="java.lang.Boolean">
                <content>result.heritage</content>
                <expression expressionType="TYPE_INPUT" id="4802455265607370403" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
          </outputs>
        </connector>
        <dataDefinitions/>
        <operations/>
        <boundaryEvents/>
      </automaticTask>
      <automaticTask id="7403372330676703890" name="TRAITEMENT_MET_TRAITER_MANUELLE">
        <incomingTransition idref="8229358156792546"/>
        <outgoingTransition idref="5085475497713318233"/>
        <connector activationEvent="ON_FINISH" connectorId="HistoriqueDperm" failAction="FAIL" name="Traiter" version="2.1.1">
          <inputs>
            <input name="motifAbandon">
              <expression expressionType="TYPE_VARIABLE" id="8265449885456448999" interpreter="" name="motifSortie" returnType="java.lang.String">
                <content>motifSortie</content>
              </expression>
            </input>
            <input name="evtProcessus">
              <expression expressionType="TYPE_CONSTANT" id="6166193468692018573" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="visaUtilisateur">
              <expression expressionType="TYPE_VARIABLE" id="1292711933370220066" interpreter="" name="visaUtilisateurTache" returnType="java.lang.String">
                <content>visaUtilisateurTache</content>
              </expression>
            </input>
            <input name="codeOperation">
              <expression expressionType="TYPE_CONSTANT" id="8281034649594056699" interpreter="" name="TRAITEMENT_MET_TRAITER,TRAITEMENT_MET_TRAITER_MANUELLE" returnType="java.lang.String">
                <content>TRAITEMENT_MET_TRAITER,TRAITEMENT_MET_TRAITER_MANUELLE</content>
              </expression>
            </input>
            <input name="evtTache">
              <expression expressionType="TYPE_CONSTANT" id="480203255198364913" interpreter="" name="false" returnType="java.lang.Boolean">
                <content>false</content>
              </expression>
            </input>
            <input name="identifiantSupervision">
              <expression expressionType="TYPE_VARIABLE" id="3808588481660236657" interpreter="" name="identifiantSupervision" returnType="java.lang.String">
                <content>identifiantSupervision</content>
              </expression>
            </input>
            <input name="typeTache">
              <expression expressionType="TYPE_VARIABLE" id="8401166979015394356" interpreter="" name="typeTacheTraitementMetier" returnType="java.lang.String">
                <content>typeTacheTraitementMetier</content>
              </expression>
            </input>
            <input name="identifiantRepelec">
              <expression expressionType="TYPE_VARIABLE" id="8362217085020490555" interpreter="" name="identifiantRepertoireElectronique" returnType="java.lang.String">
                <content>identifiantRepertoireElectronique</content>
              </expression>
            </input>
            <input name="historique">
              <expression expressionType="TYPE_CONSTANT" id="4078785065268170048" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="caracteristiques">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="7782475099086239225" interpreter="GROOVY" name="map" returnType="java.util.Map">
                <content>["documentType":documentType,

	"documentSousType":documentSousType,

	"periodeFiscale":periodeFiscale,

	"montant":montant,

	"dateReception":dateReceptionDocument,

	"numeroTiersIdentifie":numeroTiers,

	"nomPrenoms":nomPrenoms,

	"numeroAVS13":numeroAVS13,

	"dateNaissance":dateNaissance,

	"numeroOid" : numeroOid,

	"support":support]</content>
                <expression expressionType="TYPE_VARIABLE" id="1078698022117065052" name="numeroOid" returnType="java.lang.Integer">
                  <content>numeroOid</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2207780414875846139" name="documentSousType" returnType="java.lang.String">
                  <content>documentSousType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="676155163970259455" name="documentType" returnType="java.lang.String">
                  <content>documentType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="9210495281065970504" name="dateReceptionDocument" returnType="java.util.Date">
                  <content>dateReceptionDocument</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5661967506278533031" name="nomPrenoms" returnType="java.lang.String">
                  <content>nomPrenoms</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="6412510412427017257" name="support" returnType="java.lang.String">
                  <content>support</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="4861428149538148190" name="montant" returnType="java.lang.Double">
                  <content>montant</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="6212141058427404342" name="dateNaissance" returnType="java.lang.Integer">
                  <content>dateNaissance</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="1949563629208619961" name="numeroTiers" returnType="java.lang.Integer">
                  <content>numeroTiers</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="8052210521007933362" name="numeroAVS13" returnType="java.lang.Long">
                  <content>numeroAVS13</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="4048588602381611158" name="periodeFiscale" returnType="java.lang.Integer">
                  <content>periodeFiscale</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <dataDefinitions/>
        <operations/>
        <boundaryEvents/>
      </automaticTask>
      <automaticTask id="6380864161798941344" name="Indiquer Cloture TRAITEMENT_MET_DOCUMENT_TAXE">
        <incomingTransition idref="2624266713505154307"/>
        <outgoingTransition idref="7327942359573153757"/>
        <connector activationEvent="ON_FINISH" connectorId="HistoriqueDperm" failAction="FAIL" name="clotureManuelle" version="2.1.1">
          <inputs>
            <input name="evtProcessus">
              <expression expressionType="TYPE_CONSTANT" id="3682651824906519397" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="visaUtilisateur">
              <expression expressionType="TYPE_VARIABLE" id="4060956455904326774" interpreter="" name="visaUtilisateurTache" returnType="java.lang.String">
                <content>visaUtilisateurTache</content>
              </expression>
            </input>
            <input name="codeOperation">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="7964521754220738063" interpreter="GROOVY" name="TRAITEMENT_MET_DOCUMENT_TAXE" returnType="java.lang.String">
                <content>return codeSortie == "Cloturer" ? "TRAITEMENT_MET_CLOTURE_MANUELLE,TRAITEMENT_MET_DOCUMENT_TAXE" : "TRAITEMENT_MET_CLOTURE_AUTO,TRAITEMENT_MET_DOCUMENT_TAXE"</content>
                <expression expressionType="TYPE_VARIABLE" id="6687103253764944366" name="codeSortie" returnType="java.lang.String">
                  <content>codeSortie</content>
                </expression>
              </expression>
            </input>
            <input name="evtTache">
              <expression expressionType="TYPE_CONSTANT" id="3142820336285038614" interpreter="" name="false" returnType="java.lang.Boolean">
                <content>false</content>
              </expression>
            </input>
            <input name="identifiantSupervision">
              <expression expressionType="TYPE_VARIABLE" id="7478060903824181953" interpreter="" name="identifiantSupervision" returnType="java.lang.String">
                <content>identifiantSupervision</content>
              </expression>
            </input>
            <input name="typeTache">
              <expression expressionType="TYPE_VARIABLE" id="5699382131487097593" interpreter="" name="typeTacheTraitementMetier" returnType="java.lang.String">
                <content>typeTacheTraitementMetier</content>
              </expression>
            </input>
            <input name="identifiantRepelec">
              <expression expressionType="TYPE_VARIABLE" id="5481952006662080936" interpreter="" name="identifiantRepertoireElectronique" returnType="java.lang.String">
                <content>identifiantRepertoireElectronique</content>
              </expression>
            </input>
            <input name="historique">
              <expression expressionType="TYPE_CONSTANT" id="5120910834846549906" interpreter="" name="true" returnType="java.lang.Boolean">
                <content>true</content>
              </expression>
            </input>
            <input name="caracteristiques">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="1087034526586810789" interpreter="GROOVY" name="map" returnType="java.util.Map">
                <content>["documentType":documentType,

	"documentSousType":documentSousType,

	"periodeFiscale":periodeFiscale,

	"montant":montant,

	"dateReception":dateReceptionDocument,

	"numeroTiersIdentifie":numeroTiers,

	"nomPrenoms":nomPrenoms,

	"numeroAVS13":numeroAVS13,

	"dateNaissance":dateNaissance,

	"numeroOid" : numeroOid,

	"support":support]</content>
                <expression expressionType="TYPE_VARIABLE" id="7132352432700896176" name="numeroOid" returnType="java.lang.Integer">
                  <content>numeroOid</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2924024116663963514" name="documentSousType" returnType="java.lang.String">
                  <content>documentSousType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="4456123460012521862" name="documentType" returnType="java.lang.String">
                  <content>documentType</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="7437871065826545016" name="dateReceptionDocument" returnType="java.util.Date">
                  <content>dateReceptionDocument</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="7698537436449258257" name="nomPrenoms" returnType="java.lang.String">
                  <content>nomPrenoms</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="7682131596297877373" name="support" returnType="java.lang.String">
                  <content>support</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="8674356590798287698" name="montant" returnType="java.lang.Double">
                  <content>montant</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5826318745301828210" name="dateNaissance" returnType="java.lang.Integer">
                  <content>dateNaissance</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2817464413400971298" name="numeroTiers" returnType="java.lang.Integer">
                  <content>numeroTiers</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="1671813751876961238" name="numeroAVS13" returnType="java.lang.Long">
                  <content>numeroAVS13</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="894890724930599197" name="periodeFiscale" returnType="java.lang.Integer">
                  <content>periodeFiscale</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <dataDefinitions/>
        <operations/>
        <boundaryEvents/>
      </automaticTask>
      <receiveTask id="8370401517283107263" name="RecevoirReponseIntegrerDI">
        <incomingTransition idref="3046873219983427769"/>
        <outgoingTransition idref="9082619955548434957"/>
        <connector activationEvent="ON_FINISH" connectorId="scripting-groovy" failAction="FAIL" name="getResultDi" version="1.0.1">
          <inputs>
            <input name="script">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="3422731968547867399" interpreter="GROOVY" name="getResultTaopp" returnType="java.lang.Object">
                <content>
import javax.xml.bind.DatatypeConverter;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.xpath.XPath;
import javax.xml.xpath.XPathFactory;


def builder = DocumentBuilderFactory.newInstance().newDocumentBuilder()
def doc     = builder.parse(lastMessageContent.toURL().openStream())
XPath xPath =  XPathFactory.newInstance().newXPath();

def traitementMetierTmp = xPath.evaluate("/quittanceIntegrationMetierDetails/traitementMetier/text()",doc)
traitementMetierTmp = traitementMetierTmp ? DatatypeConverter.parseBoolean(traitementMetierTmp) : null

def controleIATmp = xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/controleIA/text()",doc)
controleIATmp = controleIATmp  ? DatatypeConverter.parseBoolean(controleIATmp) : null

def assujettissement360Tmp = xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/assujettissement/assujettissement360/text()",doc)
assujettissement360Tmp = assujettissement360Tmp ? DatatypeConverter.parseBoolean(assujettissement360Tmp) : null

def contribuableSourcierMixteTmp = xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/assujettissement/contribuableSourcierMixte/text()",doc)
contribuableSourcierMixteTmp = contribuableSourcierMixteTmp ? DatatypeConverter.parseBoolean(contribuableSourcierMixteTmp) : null

def releveFiscalBancaireTmp = xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/releveFiscalBancaire/text()",doc)
releveFiscalBancaireTmp = releveFiscalBancaireTmp ? DatatypeConverter.parseBoolean(releveFiscalBancaireTmp) : null

def heritageTmp = xPath.evaluate("/quittanceIntegrationMetierDetails/heritage/text()",doc)
heritageTmp = heritageTmp ? DatatypeConverter.parseBoolean(heritageTmp) : null

def collaborateurTmp = xPath.evaluate("/quittanceIntegrationMetierDetails/collaborateur/text()",doc)
collaborateurTmp = collaborateurTmp ? DatatypeConverter.parseBoolean(collaborateurTmp) : null

return [
	'traitementMetier':traitementMetierTmp,
	'typeImpot':xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/typeImpot/text()",doc),
	'typeTaxation':xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/typeTaxation/text()",doc),
	'etatTaxation':xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/etatTaxation/text()",doc),
	'codeSegment':xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/codeSegment/text()",doc),
	'visaDossierReserve':xPath.evaluate("/quittanceIntegrationMetierDetails/visaDossierReserve/text()",doc),
	'visaPreferentiel':xPath.evaluate("/quittanceIntegrationMetierDetails/visaPreferentiel/text()",doc),
	'controleIA':controleIATmp,
	'doublonTypeTaxationPrecedente':xPath.evaluate("/quittanceIntegrationMetierDetails/taxation/doublon/typeTaxationPrecedente/text()",doc),
	'assujettissement360':assujettissement360Tmp,
	'contribuableSourcierMixte':contribuableSourcierMixteTmp,
	'releveFiscalBancaire':releveFiscalBancaireTmp,
	'heritage':heritageTmp,
	'collaborateur':collaborateurTmp
]</content>
                <expression expressionType="TYPE_VARIABLE" id="974965926975983100" name="lastMessageContent" returnType="java.lang.String">
                  <content>lastMessageContent</content>
                </expression>
              </expression>
            </input>
          </inputs>
          <outputs>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="codeSegment" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="8800512179074740426" interpreter="GROOVY" name="result" returnType="java.lang.String">
                <content>result.codeSegment</content>
                <expression expressionType="TYPE_INPUT" id="6129053317558980192" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5417132078877488738" name="codeSegment" returnType="java.lang.String">
                  <content>codeSegment</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="typeImpot" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="7424272826498565784" interpreter="GROOVY" name="resulttypeImpot" returnType="java.lang.String">
                <content>result.typeImpot</content>
                <expression expressionType="TYPE_INPUT" id="6614473009892968745" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="visaDossierReserve" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="4643415919577511964" interpreter="GROOVY" name="visaDossierReserve" returnType="java.lang.String">
                <content>result.visaDossierReserve</content>
                <expression expressionType="TYPE_INPUT" id="4436426609990715737" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5116256426305864090" name="visaDossierReserve" returnType="java.lang.String">
                  <content>visaDossierReserve</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="visaPreferentiel" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="4787626098479154182" interpreter="GROOVY" name="visaPreferentiel" returnType="java.lang.String">
                <content>result.visaPreferentiel</content>
                <expression expressionType="TYPE_INPUT" id="2517221750895952841" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="typeTaxation" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="6779709503955517094" interpreter="GROOVY" name="getTypeTaxation" returnType="java.lang.String">
                <content>result.typeTaxation</content>
                <expression expressionType="TYPE_INPUT" id="2262445211172519186" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="etatTaxation" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="405994875699154513" interpreter="GROOVY" name="getEtatTaxation" returnType="java.lang.String">
                <content>result.etatTaxation</content>
                <expression expressionType="TYPE_INPUT" id="2099353071186984693" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="controleIA" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="4377716176651335410" interpreter="GROOVY" name="getControleIA" returnType="java.lang.Boolean">
                <content>result.controleIA</content>
                <expression expressionType="TYPE_INPUT" id="6935673951610292056" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="releveFiscalBancaire" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="654003400544665136" interpreter="GROOVY" name="getReleveFiscalBancaire" returnType="java.lang.Boolean">
                <content>result.releveFiscalBancaire</content>
                <expression expressionType="TYPE_INPUT" id="3400313686611544544" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="traitementMetier" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="2653804853043510980" interpreter="GROOVY" name="traitementMetier" returnType="java.lang.Boolean">
                <content>result.traitementMetier</content>
                <expression expressionType="TYPE_INPUT" id="4948476669991469386" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="assujettissement360" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="2289265406423419412" interpreter="GROOVY" name="assujettissement360" returnType="java.lang.Boolean">
                <content>result.assujettissement360</content>
                <expression expressionType="TYPE_INPUT" id="8235022426309637127" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="doublonTypeTaxation" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="5955819267549607969" interpreter="GROOVY" name="doublonTypeTaxation" returnType="java.lang.String">
                <content>result.doublonTypeTaxationPrecedente</content>
                <expression expressionType="TYPE_INPUT" id="6603911043807200793" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="contribuableSourcierMixte" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="3803147675335572411" interpreter="GROOVY" name="contribuableSourcierMixte" returnType="java.lang.Boolean">
                <content>result.contribuableSourcierMixte</content>
                <expression expressionType="TYPE_INPUT" id="2138897713115740580" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="heritage" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="3323641552112956733" interpreter="GROOVY" name="result.heritage" returnType="java.lang.Boolean">
                <content>result.heritage</content>
                <expression expressionType="TYPE_INPUT" id="6761483676541366941" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
            <operation operatorType="ASSIGNMENT">
              <leftOperand name="collaborateur" type="DATA"/>
              <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="2924714197328248572" interpreter="GROOVY" name="result.collaborateur" returnType="java.lang.Boolean">
                <content>result.collaborateur</content>
                <expression expressionType="TYPE_INPUT" id="4827786063396454255" name="result" returnType="java.lang.Object">
                  <content>result</content>
                </expression>
              </rightOperand>
            </operation>
          </outputs>
        </connector>
        <dataDefinitions/>
        <operations/>
        <boundaryEvents/>
        <catchMessageEventTrigger name="ReponseIntegrerDI">
          <correlation>
            <key expressionType="TYPE_CONSTANT" id="2417301300880062304" interpreter="" name="correlationId" returnType="java.lang.String">
              <content>correlationId</content>
            </key>
            <value expressionType="TYPE_VARIABLE" id="1659510158776355467" interpreter="" name="messageCorrelationId" returnType="java.lang.String">
              <content>messageCorrelationId</content>
            </value>
          </correlation>
          <operation operatorType="ASSIGNMENT">
            <leftOperand name="lastMessageContent" type="DATA"/>
            <rightOperand expressionType="TYPE_VARIABLE" id="1546463885073072568" interpreter="" name="messageContentUrl" returnType="java.lang.String">
              <content>messageContentUrl</content>
            </rightOperand>
          </operation>
        </catchMessageEventTrigger>
      </receiveTask>
      <automaticTask id="9145798270074048733" name="Quittancer Papier">
        <incomingTransition idref="2779811061238119428"/>
        <outgoingTransition idref="6193867133598544158"/>
        <connector activationEvent="ON_ENTER" connectorId="EsbVdJmsSend" failAction="FAIL" name="envoiMessageQuittanceTechnique" version="1.0.0">
          <inputs>
            <input name="headers">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="5240981151512575519" interpreter="GROOVY" name="headersQuittanceDemat" returnType="java.util.Map">
                <content>[
	"status" : qualificationSDI,
	"identifiantQuittance" : identifiantQuittance,
	"processInstanceId" : rootProcessInstanceId as String
	]</content>
                <expression expressionType="TYPE_VARIABLE" id="1036735302108073366" name="identifiantQuittance" returnType="java.lang.String">
                  <content>identifiantQuittance</content>
                </expression>
                <expression expressionType="TYPE_ENGINE_CONSTANT" id="1830627061394946439" interpreter="" name="rootProcessInstanceId" returnType="java.lang.Long">
                  <content>rootProcessInstanceId</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2111212693650325040" name="qualificationSDI" returnType="java.lang.String">
                  <content>qualificationSDI</content>
                </expression>
              </expression>
            </input>
            <input name="application">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="8183614384066506880" interpreter="GROOVY" name="esb.application" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.application");</content>
              </expression>
            </input>
            <input name="domaine">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="4555674062824361455" interpreter="GROOVY" name="esb.domain" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.domain");</content>
              </expression>
            </input>
            <input name="destination">
              <expression expressionType="TYPE_PARAMETER" id="4548343445543864433" interpreter="" name="esbDestinationReponseQuittance" returnType="java.lang.String">
                <content>esbDestinationReponseQuittance</content>
              </expression>
            </input>
            <input name="businessId">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="8104783717262311431" interpreter="GROOVY" name="businessIdQuittance" returnType="java.lang.String">
                <content>"quittanceDemat-"+bamProcessInstanceId+"-"+rootProcessInstanceId</content>
                <expression expressionType="TYPE_ENGINE_CONSTANT" id="6371287596902336732" interpreter="" name="rootProcessInstanceId" returnType="java.lang.Long">
                  <content>rootProcessInstanceId</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="2772815591414452175" name="bamProcessInstanceId" returnType="java.lang.String">
                  <content>bamProcessInstanceId</content>
                </expression>
              </expression>
            </input>
            <input name="contexte">
              <expression expressionType="TYPE_CONSTANT" id="7462359207285076187" interpreter="" name="etatTaxation" returnType="java.lang.String">
                <content>etatTaxation</content>
              </expression>
            </input>
            <input name="body">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="688917512190473617" interpreter="GROOVY" name="empty" returnType="java.lang.Object">
                <content>"&lt;empty/&gt;"</content>
              </expression>
            </input>
            <input name="businessUser">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="1655395785031567865" interpreter="GROOVY" name="esb.business.user" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.business.user");</content>
              </expression>
            </input>
            <input name="connectionFactoryJndiName">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="7539422398313614064" interpreter="GROOVY" name="esb.jms.connectionFactory" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.jms.connectionFactory");</content>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <dataDefinitions/>
        <operations/>
        <boundaryEvents/>
      </automaticTask>
      <automaticTask id="8548955663866378397" name="Quittancer Papier par identifiants metier">
        <incomingTransition idref="3179073822722902184"/>
        <outgoingTransition idref="4759361807211446512"/>
        <connector activationEvent="ON_ENTER" connectorId="EsbVdJmsSend" failAction="FAIL" name="envoiMessageQuittanceMetier" version="1.0.0">
          <inputs>
            <input name="headers">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="910859846721423423" interpreter="GROOVY" name="headersQuittanceDemat" returnType="java.util.Map">
                <content>int firstSep = bamProcessInstanceId.indexOf("-");
int lastSep = bamProcessInstanceId.indexOf("-", firstSep+1);
String pf = bamProcessInstanceId.substring(0,4);
String numSeq = bamProcessInstanceId.substring(lastSep+1);
String numCtb = bamProcessInstanceId.substring(firstSep+1, lastSep);

[
	"status" : qualificationSDI,
	"numeroCtb" : numCtb,
	"numeroSequenceDI" : numSeq,
	"periodeFiscale" : pf,
	"processInstanceId" : rootProcessInstanceId as String
	]</content>
                <expression expressionType="TYPE_ENGINE_CONSTANT" id="6999452492471647689" interpreter="" name="rootProcessInstanceId" returnType="java.lang.Long">
                  <content>rootProcessInstanceId</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="6962980641193740756" name="qualificationSDI" returnType="java.lang.String">
                  <content>qualificationSDI</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="3893629458335776428" name="bamProcessInstanceId" returnType="java.lang.String">
                  <content>bamProcessInstanceId</content>
                </expression>
              </expression>
            </input>
            <input name="application">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="2454693890548517130" interpreter="GROOVY" name="esb.application" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.application");</content>
              </expression>
            </input>
            <input name="domaine">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="6917941782754642123" interpreter="GROOVY" name="esb.domain" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.domain");</content>
              </expression>
            </input>
            <input name="destination">
              <expression expressionType="TYPE_PARAMETER" id="6559244160965131724" interpreter="" name="esbDestinationReponseQuittance" returnType="java.lang.String">
                <content>esbDestinationReponseQuittance</content>
              </expression>
            </input>
            <input name="businessId">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="8936288506540738859" interpreter="GROOVY" name="businessIdQuittance" returnType="java.lang.String">
                <content>"quittanceDemat-"+bamProcessInstanceId+"-"+rootProcessInstanceId</content>
                <expression expressionType="TYPE_ENGINE_CONSTANT" id="4622927165582850048" interpreter="" name="rootProcessInstanceId" returnType="java.lang.Long">
                  <content>rootProcessInstanceId</content>
                </expression>
                <expression expressionType="TYPE_VARIABLE" id="5261312635749485084" name="bamProcessInstanceId" returnType="java.lang.String">
                  <content>bamProcessInstanceId</content>
                </expression>
              </expression>
            </input>
            <input name="contexte">
              <expression expressionType="TYPE_CONSTANT" id="2983542008617874824" interpreter="" name="etatTaxation" returnType="java.lang.String">
                <content>etatTaxation</content>
              </expression>
            </input>
            <input name="body">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="6794761221715414408" interpreter="GROOVY" name="empty" returnType="java.lang.Object">
                <content>"&lt;empty/&gt;"</content>
              </expression>
            </input>
            <input name="businessUser">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="2976530515696137151" interpreter="GROOVY" name="esb.business.user" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.business.user");</content>
              </expression>
            </input>
            <input name="connectionFactoryJndiName">
              <expression expressionType="TYPE_READ_ONLY_SCRIPT" id="7369919960111953062" interpreter="GROOVY" name="esb.jms.connectionFactory" returnType="java.lang.String">
                <content>import ch.vd.bpm.dperm.util.DpermChargementPropriete;



DpermChargementPropriete.getProperty("esb.jms.connectionFactory");</content>
              </expression>
            </input>
          </inputs>
          <outputs/>
        </connector>
        <dataDefinitions/>
        <operations/>
        <boundaryEvents/>
      </automaticTask>
      <automaticTask id="5394987203348361148" name="Déterminer qualification Papier">
        <incomingTransition idref="6948977785232930061"/>
        <outgoingTransition idref="8019618378911365045"/>
        <dataDefinitions/>
        <operations>
          <operation operatorType="ASSIGNMENT">
            <leftOperand name="qualificationSDI" type="DATA"/>
            <rightOperand expressionType="TYPE_READ_ONLY_SCRIPT" id="3264779495853176743" interpreter="GROOVY" name="calculQualificationSDI" returnType="java.lang.String">
              <content>def result = "";

StringTokenizer st = new StringTokenizer(oidComplexes, ";");
boolean isOidComplex = false;
while(st.hasMoreTokens() &amp;&amp; !isOidComplex) {
	if(numeroOid.equals(Integer.parseInt(st.nextToken()))) {
		isOidComplex = true;
	}
}

if("A".equals(codeSegment)) {
	result = "TAXABLE_AUTO";
} else if("SA".equals(codeSegment)) {
	result = "TAXABLE_MI_AUTO";
} else if("SM".equals(codeSegment)) {
	if("VALIDEE".equals(etatTaxation)) {
		result = "TAXE_MI_MANU";
	} else {
		result = "TAXABLE_MI_MANU";
	}
} else if("SMC".equals(codeSegment)) {
	result = "TAXABLE_MAN_SMC";
} else if("C1".equals(codeSegment) &amp;&amp; isOidComplex) {
	result = "TAXABLE_MAN_C1";
} else if("C2".equals(codeSegment) &amp;&amp; isOidComplex) {
	result = "TAXABLE_MAN_C2";
	if(releveFiscalBancaire!=null &amp;&amp; releveFiscalBancaire == true) {
		result = "TAXABLE_MAN_C2_RFB";
	}
} else if ("C1".equals(codeSegment) || "C2".equals(codeSegment)) {
	result = "TAXABLE_MANUEL";
} else {
	result = "DPERM_" + codeSegment;
}

return result;</content>
              <expression expressionType="TYPE_PARAMETER" id="6539654162108037186" name="oidComplexes" returnType="java.lang.String">
                <content>oidComplexes</content>
              </expression>
              <expression expressionType="TYPE_VARIABLE" id="1323706769587878141" name="numeroOid" returnType="java.lang.Integer">
                <content>numeroOid</content>
              </expression>
              <expression expressionType="TYPE_VARIABLE" id="3979555719779205612" name="etatTaxation" returnType="java.lang.String">
                <content>etatTaxation</content>
              </expression>
              <expression expressionType="TYPE_VARIABLE" id="586650650730253355" name="codeSegment" returnType="java.lang.String">
                <content>codeSegment</content>
              </expression>
              <expression expressionType="TYPE_VARIABLE" id="7532495952104735877" name="releveFiscalBancaire" returnType="java.lang.Boolean">
                <content>releveFiscalBancaire</content>
              </expression>
            </rightOperand>
          </operation>
        </operations>
        <boundaryEvents/>
      </automaticTask>
      <gateway gatewayType="EXCLUSIVE" id="4734649822079597020" name="Traitement auto">
        <incomingTransition idref="1675101356221904522"/>
        <incomingTransition idref="526737323967399420"/>
        <outgoingTransition idref="4343618634837178547"/>
      </gateway>
      <gateway gatewayType="EXCLUSIVE" id="6252973325900871568" name="Traitement manuel">
        <incomingTransition idref="6017069713153740375"/>
        <incomingTransition idref="5714507348253297559"/>
        <outgoingTransition idref="1890278031547938487"/>
      </gateway>
      <gateway gatewayType="EXCLUSIVE" id="8285225717668220447" name="Cloturer ?">
        <incomingTransition idref="7366485876371339538"/>
        <incomingTransition idref="3251715541597831485"/>
        <outgoingTransition idref="6017069713153740375"/>
        <defaultTransition idref="1356235213769848147"/>
      </gateway>
      <gateway gatewayType="EXCLUSIVE" id="7388299161014010762" name="Traitement ?">
        <incomingTransition idref="4625457961217049354"/>
        <outgoingTransition idref="1675101356221904522"/>
        <outgoingTransition idref="8229358156792546"/>
        <defaultTransition idref="2624266713505154307"/>
      </gateway>
      <gateway gatewayType="EXCLUSIVE" id="4891396914365864292" name="Cloturer auto ?">
        <incomingTransition idref="2192635491772023122"/>
        <outgoingTransition idref="5714507348253297559"/>
        <outgoingTransition idref="7430243821654358015"/>
        <defaultTransition idref="2098319846097241480"/>
      </gateway>
      <gateway gatewayType="EXCLUSIVE" id="8560564685799247902" name="Support?">
        <incomingTransition idref="9082619955548434957"/>
        <outgoingTransition idref="6948977785232930061"/>
        <defaultTransition idref="7366485876371339538"/>
      </gateway>
      <gateway gatewayType="EXCLUSIVE" id="5666688984449361999" name="FormatQuittance">
        <incomingTransition idref="8019618378911365045"/>
        <outgoingTransition idref="2779811061238119428"/>
        <defaultTransition idref="3179073822722902184"/>
      </gateway>
      <gateway gatewayType="EXCLUSIVE" id="6739970765088575509" name="quittanceOK">
        <incomingTransition idref="6193867133598544158"/>
        <incomingTransition idref="4759361807211446512"/>
        <outgoingTransition idref="3251715541597831485"/>
      </gateway>
      <startEvent id="7444391820720454445" interrupting="true" name="Début traitement">
        <outgoingTransition idref="261700230274332232"/>
      </startEvent>
      <intermediateCatchEvent description="Quittance DI" id="8588443068004960945" interrupting="true" name="EvtBatchClotureTaxation">
        <incomingTransition idref="4343618634837178547"/>
        <outgoingTransition idref="1670908051585219535"/>
        <catchMessageEventTrigger name="MessageEvtBatchClotureTaxation">
          <correlation>
            <key expressionType="TYPE_CONSTANT" id="2476157298888785630" interpreter="" name="numeroContribuable" returnType="java.lang.String">
              <content>numeroContribuable</content>
            </key>
            <value expressionType="TYPE_VARIABLE" id="7574550094141240523" interpreter="" name="numeroTiers" returnType="java.lang.Integer">
              <content>numeroTiers</content>
            </value>
          </correlation>
          <correlation>
            <key expressionType="TYPE_CONSTANT" id="7957147245736119160" interpreter="" name="periodeFiscale" returnType="java.lang.String">
              <content>periodeFiscale</content>
            </key>
            <value expressionType="TYPE_VARIABLE" id="4725587079069453356" interpreter="" name="periodeFiscale" returnType="java.lang.Integer">
              <content>periodeFiscale</content>
            </value>
          </correlation>
          <correlation>
            <key expressionType="TYPE_CONSTANT" id="143617688420070636" interpreter="" name="typeImpot" returnType="java.lang.String">
              <content>typeImpot</content>
            </key>
            <value expressionType="TYPE_VARIABLE" id="7615713339761576037" interpreter="" name="typeImpot" returnType="java.lang.String">
              <content>typeImpot</content>
            </value>
          </correlation>
          <operation operatorType="ASSIGNMENT">
            <leftOperand name="evtBatchType" type="DATA"/>
            <rightOperand expressionType="TYPE_VARIABLE" id="4059472396581948506" interpreter="" name="evtBatchType" returnType="java.lang.String">
              <content>evtBatchType</content>
            </rightOperand>
          </operation>
          <operation operatorType="ASSIGNMENT">
            <leftOperand name="lastMessageContent" type="DATA"/>
            <rightOperand expressionType="TYPE_VARIABLE" id="7706625359841805895" interpreter="" name="messageContentUrl" returnType="java.lang.String">
              <content>messageContentUrl</content>
            </rightOperand>
          </operation>
        </catchMessageEventTrigger>
      </intermediateCatchEvent>
      <endEvent id="6683116649670951065" name="Fin cloture">
        <incomingTransition idref="7327942359573153757"/>
        <terminateEventTrigger/>
      </endEvent>
      <endEvent id="7128713999811840789" name="sortie taxation auto">
        <incomingTransition idref="8858576414781127715"/>
      </endEvent>
      <endEvent id="5629533306995645750" name="sortie taxation semi-auto">
        <incomingTransition idref="2343250618851438681"/>
      </endEvent>
      <endEvent id="8039482434635295807" name="Fin traité">
        <incomingTransition idref="5085475497713318233"/>
        <terminateEventTrigger/>
      </endEvent>
    </flowNodes>
  </flowElements>
  <dependencies>
    <parameters>
      <parameter name="esbDestinationReponseQuittance" type="java.lang.String">
        <description>Destination de réponse de la quittance d'intégration de la Di (par exemple bridge.cedi-DI.cediDi.reponseDi)</description>
      </parameter>
      <parameter name="oidComplexes" type="java.lang.String">
        <description/>
      </parameter>
      <parameter name="esbDestinationIntegrerDI" type="java.lang.String">
        <description/>
      </parameter>
      <parameter name="versionProcessAttribution" type="java.lang.String">
        <description/>
      </parameter>
    </parameters>
    <actors>
      <actor name="Taxateur DI">
        <description/>
      </actor>
    </actors>
  </dependencies>
  <contract/>
  <context/>
</processDefinition>
